import{_ as re}from"./M4_Inputarea-esnVivpZ.js";import{_ as P,E as S,a as C,o as h,j as T,e as o,t as r,A as v,d as n,w as _,F as E,r as M,c as R,h as g,f as m,q as f,u as w,i as p,V as k,g as B,m as L,p as z,s as Y,c4 as x,b as be,bV as _e,Y as te,W as de,X as he,B as we,b$ as Pe,D as Ee,G as le,aW as Me,J as Ae,bo as Be,ap as ie,at as ke,M as Oe,au as ve,c0 as oe,P as ae,O as Fe,ca as Le,b1 as xe,x as Ye,ag as b,a8 as $e,a9 as Ue,aa as Ve,cb as W,ab as Ge,z as se,c3 as He}from"./index-BH5eA207.js";import{a as We,V as ze}from"./VRadioGroup-CZ9miwC9.js";import{a as y,V as F}from"./VRow-CaeUyhLW.js";import{_ as U}from"./M4_Input-i8TYwvwg.js";import{V as j,a as Ke}from"./VDataTable-BuGlKFKq.js";import{E as J}from"./EditorRead-QTYHhKeJ.js";import{R as qe}from"./index-_vbXjPry.js";import{V as ce,m as Qe,u as Xe,a as ne}from"./VTextField-Bh3dzl8q.js";import{E as je}from"./Editor-CPJ3oAnd.js";const Je={props:["MNG_DEPT_NM","MNG_DEPT_TELNO","CONTS_ID"],data(){return{zRadioInfo:[{value:5,label:"매우 만족",class:"mr-2"},{value:4,label:"만족",class:"mr-2"},{value:3,label:"보통",class:"mr-2"},{value:2,label:"불만족",class:"mr-2"},{value:1,label:"매우 불만족",class:"mr-2"}],oEditItem:{POINT:5,OP_CN:""},oDefaultEditItem:{POINT:5,OP_CN:""}}},mounted(){},methods:{SetSatisfactionInfo(){this.oEditItem.OP_CN=this.oEditItem.OP_CN.trim(),this.oEditItem.OP_CN.length>60&&S.$emit("onShowMsg",{cSubTitle:"입력하신 글자 수를 확인해 주세요.",cTitle:"최대 60자 까지 입력 가능합니다.",cMsg:""}),this.zData=[];var e={POINT:this.oEditItem.POINT,OP_CN:this.oEditItem.OP_CN,CONTS_ID:this.CONTS_ID};C.post("https://test1-fire.seoul.go.kr/cmsapi/SetSatisfactionInfo",e,{headers:{}}).then(t=>{t.data.ResultCd==="00"?(S.$emit("onAlarmSnackbar",{cColor:"info",iTimeOut:4e3,sMsg:"참여해 주셔서 감사합니다."}),this.oEditItem={...this.oDefaultEditItem}):S.$emit("onShowMsg",{cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${t.data.Msg}`})}).catch(t=>{S.$emit("onShowMsg",{cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${t}`})}).finally(()=>{})}}},Ze={class:"nor_table"},et=o("caption",{class:"sr-only"},"만족도 평가 테이블",-1),tt={scope:"row"},lt={scope:"row"},it={style:{outline:"1px solid var(--secondary-30)","margin-top":"15px",padding:"15px","background-color":"#edf1f5"}},ot=o("div",{class:"body-medium mb-1"},"이 페이지에서 제공하는 정보에 만족하셨습니까?",-1);function at(e,t,i,a,l,s){const d=re;return h(),T("div",null,[o("table",Ze,[et,o("tbody",null,[o("tr",null,[o("th",tt,r(e.$t("M4_Satisfaction_text_1")),1),o("td",null,r(i.MNG_DEPT_NM),1),o("th",lt,r(e.$t("M4_Satisfaction_text_2")),1),o("td",null,r(i.MNG_DEPT_TELNO),1)])])]),o("div",it,[ot,o("div",{class:v(["body-small",l.oEditItem.OP_CN.length>60?"text-red":""])},"* 의견쓰기: 60자 이내로 입력하세요("+r(l.oEditItem.OP_CN.length)+"/60)",3),n(ze,{modelValue:l.oEditItem.POINT,"onUpdate:modelValue":t[0]||(t[0]=c=>l.oEditItem.POINT=c),inline:""},{default:_(()=>[(h(!0),T(E,null,M(l.zRadioInfo,(c,u)=>(h(),R(We,{key:u,label:c.label,class:v(c.class),value:c.value},null,8,["label","class","value"]))),128))]),_:1},8,["modelValue"]),n(F,null,{default:_(()=>[n(y,{cols:"9"},{default:_(()=>[n(d,{modelValue:l.oEditItem.OP_CN,"onUpdate:modelValue":t[1]||(t[1]=c=>l.oEditItem.OP_CN=c),"max-length":"60",style:{"background-color":"white"},"hide-details":"","persistent-placeholder":"",density:"compact",variant:"outlined",color:"primary","auto-grow":!0,"no-resize":!0,rows:"1"},null,8,["modelValue"])]),_:1}),n(y,{cols:"3"},{default:_(()=>[n(g,{onClick:t[2]||(t[2]=c=>s.SetSatisfactionInfo())},{default:_(()=>[m("평가하기")]),_:1})]),_:1})]),_:1})])])}const st=P(Je,[["render",at]]),nt={props:["bShowFormTitle"],data(){return{MENU_ID:"",FORM_NM:"",FORM_TYPE:"",cNowSearchKeyWord:"",headers:[{title:this.$t("all_table_header_1"),key:"iIndex",sortable:!1,align:"center"},{title:this.$t("req_form_table_header_1"),key:"FORM_NM"},{title:this.$t("req_form_table_header_2"),key:"FORM_INPT_DATA1"},{title:this.$t("all_table_header_2"),key:"is_file",sortable:!1,align:"center"}],zData:[],SHOW_FORM_ID:"",isShow:!1,iStartReadIndex:0,iEndReadIndex:4,oDetailItem:{FORM_INPT_DATA1:"",FORM_INPT_DATA2:"",FORM_INPT_DATA3:"",FORM_INPT_DATA4:"",FORM_INPT_DATA5:"",FORM_INPT_DATA6:"",FORM_INPT_DATA7:"",FORM_INPT_DATA8:"",FORM_INPT_DATA9:"",FORM_INPT_DATA10:"",FORM_INPT_DATA11:"",FORM_INPT_DATA12:"",FORM_INPT_DATA13:"",FORM_INPT_DATA14:"",FORM_INPT_DATA15:"",FORM_INPT_DATA16:"",FORM_INPT_DATA17:"",FORM_INPT_DATA18:"",FORM_NM:"",FILE_ID:"NONE",FILE_NM:"",FILE_PATH:""},oDefaultDetailItem:{FORM_INPT_DATA1:"",FORM_INPT_DATA2:"",FORM_INPT_DATA3:"",FORM_INPT_DATA4:"",FORM_INPT_DATA5:"",FORM_INPT_DATA6:"",FORM_INPT_DATA7:"",FORM_INPT_DATA8:"",FORM_INPT_DATA9:"",FORM_INPT_DATA10:"",FORM_INPT_DATA11:"",FORM_INPT_DATA12:"",FORM_INPT_DATA13:"",FORM_INPT_DATA14:"",FORM_INPT_DATA15:"",FORM_INPT_DATA16:"",FORM_INPT_DATA17:"",FORM_INPT_DATA18:"",FORM_NM:"",FILE_ID:"NONE",FILE_NM:"NONE.png",FILE_PATH:"Files/None.png"}}},computed:{bShowDownLoadIcon(){return this.oDetailItem.FILE_ID!="NONE"}},mounted(){this.SHOW_FORM_ID=this.$route.query.id?this.$route.query.id:""},methods:{DialogClose(){this.isShow=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},GetDynamicFormInfo(e,t,i){this.MENU_ID=e,this.FORM_TYPE=t,this.FORM_NM=i,this.GetDynamicFormData()},GetDynamicFormData(){this.zData=[];var e={FORM_TYPE:this.FORM_TYPE,NowSearchKeyWord:this.cNowSearchKeyWord,StartReadIndex:this.iStartReadIndex,EndReadIndex:this.iEndReadIndex};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicFormData",e,{headers:{}}).then(t=>{if(t.data.ResultCd==="00"){let i=t.data.Result.length;if(this.zData=t.data.Result.map((a,l)=>(a.is_file=a.FILE_ID!="NONE",a.iIndex=i-l,a)),this.SHOW_FORM_ID!=""){let a=this.zData.find(l=>l.FORM_ID==this.SHOW_FORM_ID);console.log(this.zData,a),this.handleRowClick(null,{item:a})}}else S.$emit("onShowMsg",{cSubTitle:"정보 조회에 실패했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다.",cMsg:`(${t.data.ResultCd}) ${t.data.Msg}`})}).catch(t=>{}).finally(()=>{})},handleRowClick(e,{item:t}){this.GetDynamicFormItemData(t.FORM_ID)},GetDynamicFormItemData(e){var t={FORM_ID:e,FORM_TYPE:this.FORM_TYPE};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicFormItemData",t,{headers:{}}).then(i=>{i.data.ResultCd==="00"&&(this.oDetailItem={...i.data.Result[0]},this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.isShow=!0)})},ClickIconDirect(e,t){e.stopPropagation(),this.DownloadFile(t)},DownloadFile(e){C({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+e.FILE_PATH,method:"GET",responseType:"blob"}).then(t=>{const i=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",e.FILE_NM),document.body.appendChild(a),a.click()})},onInput(e){this.$emit("update:modelValue",e.target.value)}}},rt={key:0,class:"title-xxlarge"},_t={class:"mt-2 pa-3"},dt={class:"nor_table_center"},ht={id:"table-caption",class:"sr-only"},ct=["onClick"],ut={align:"center"},mt={key:0,style:{"border-radius":"5px","background-color":"rgb(76,175,80)",color:"white",width:"45px"}},Tt={key:1},Dt=["onKeydown","title"],It=["onClick","onKeyup"],St={class:"d-flex"},ft={class:"mb-2"},pt={class:"nor_table"},Nt={class:"sr-only"},gt={scope:"col",rowspan:"2"},Rt={scope:"col",rowspan:"2",colspan:"3"},Ct={scope:"col",rowspan:"2"},yt={scope:"col"},bt={scope:"col"},wt={align:"center"},Pt={align:"center"},Et={scope:"row"},Mt={colspan:"6"},At=["innerHTML"],Bt={scope:"row",rowspan:"7"},kt={scope:"row"},Ot={scope:"row"},vt={scope:"row"},Ft={scope:"row"},Lt={scope:"row"},xt={scope:"row"},Yt={scope:"row"},$t={scope:"row"},Ut={scope:"row"},Vt={colspan:"5"},Gt={colspan:"5"},Ht={colspan:"5"},Wt={colspan:"5"},zt={scope:"row"},Kt={colspan:"6"},qt=["innerHTML"],Qt={scope:"row"},Xt={colspan:"6"},jt=["innerHTML"],Jt={class:"mt-4 mb-0 d-flex"};function Zt(e,t,i,a,l,s){const d=U;return h(),T("div",null,[i.bShowFormTitle?(h(),T("h1",rt,r(l.FORM_NM),1)):f("",!0),o("div",_t,[n(F,null,{default:_(()=>[n(y,null,{default:_(()=>[n(d,{modelValue:l.cNowSearchKeyWord,"onUpdate:modelValue":t[0]||(t[0]=c=>l.cNowSearchKeyWord=c),onKeyup:w(s.GetDynamicFormData,["enter"]),"onClick:appendInner":s.GetDynamicFormData,label:e.$t("common_search"),placeholder:e.$t("req_form_placeholder"),density:"compact",variant:"outlined",color:"primary",icon:"mdi-magnify","persistent-placeholder":""},null,8,["modelValue","onKeyup","onClick:appendInner","label","placeholder"])]),_:1})]),_:1}),n(j,{headers:l.headers,items:l.zData,"onClick:row":s.handleRowClick,"item-key":"PST_ID","aria-labelledby":"table-caption"},{default:_(c=>[o("table",dt,[o("caption",ht,r(l.FORM_NM)+" 서식 테이블",1),o("thead",null,[o("tr",null,[(h(!0),T(E,null,M(c.headers[0],u=>(h(),T("th",{scope:"col",key:u.value},r(u.title),1))),128))])]),o("tbody",null,[(h(!0),T(E,null,M(c.items,u=>(h(),T("tr",{key:u.id,onClick:D=>s.handleRowClick(null,{item:u})},[o("td",null,[o("div",ut,[u.bNotice?(h(),T("div",mt,"공지")):(h(),T("div",Tt,r(u.iIndex),1))])]),o("td",{tabindex:"0",onKeydown:w(D=>s.handleRowClick(null,{item:u}),["enter"]),style:{cursor:"pointer"},title:u.FORM_NM+" 열기"},r(u.FORM_NM),41,Dt),o("td",null,r(u.FORM_INPT_DATA1),1),o("td",null,[u.is_file?(h(),T("div",{key:0,onClick:D=>s.ClickIconDirect(D,u),onKeyup:w(D=>s.ClickIconDirect(D,u),["enter"])},[n(p,{"aria-hidden":"true"},{default:_(()=>[m("mdi-file")]),_:1})],40,It)):f("",!0)])],8,ct))),128))])])]),_:1},8,["headers","items","onClick:row"])]),n(L,{modelValue:l.isShow,"onUpdate:modelValue":[t[3]||(t[3]=c=>l.isShow=c),s.DialogClose],width:"60%","aria-modal":"true"},{default:_(()=>[n(k,{class:"pa-5"},{default:_(()=>[o("div",St,[o("h2",ft,r(l.oDetailItem.FORM_NM),1),n(B),n(g,{variant:"plain",class:"mt-n1 mr-n3",icon:"",onClick:s.DialogClose,"aria-label":"닫기"},{default:_(()=>[n(p,{"aria-hidden":"true"},{default:_(()=>[m("mdi-close")]),_:1})]),_:1},8,["onClick"])]),o("table",pt,[o("caption",Nt,r(l.oDetailItem.FORM_NM),1),o("thead",null,[o("tr",null,[o("th",gt,r(e.$t("req_form_dialog_header_1")),1),o("th",Rt,r(l.oDetailItem.FORM_NM),1),o("th",Ct,r(e.$t("req_form_dialog_header_2")),1),o("th",yt,r(e.$t("req_form_table_header_2")),1),o("th",bt,r(e.$t("req_form_dialog_header_3")),1)]),o("tr",null,[o("td",wt,r(l.oDetailItem.FORM_INPT_DATA1),1),o("td",Pt,r(l.oDetailItem.FORM_INPT_DATA2),1)])]),o("tbody",null,[o("tr",null,[o("th",Et,r(e.$t("req_form_dialog_header_4")),1),o("td",Mt,[o("div",{innerHTML:l.oDetailItem.FORM_INPT_DATA3},null,8,At)])]),o("tr",null,[o("th",Bt,r(e.$t("req_form_dialog_header_5")),1),o("th",kt,r(e.$t("req_form_dialog_header_6")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA4),1),o("th",Ot,r(e.$t("req_form_dialog_header_7")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA5),1),o("th",vt,r(e.$t("req_form_dialog_header_8")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA6),1)]),o("tr",null,[o("th",Ft,r(e.$t("req_form_dialog_header_9")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA7),1),o("th",Lt,r(e.$t("req_form_dialog_header_10")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA8),1),o("th",xt,r(e.$t("req_form_dialog_header_11")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA9),1)]),o("tr",null,[o("th",Yt,r(e.$t("req_form_dialog_header_12")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA10),1),o("th",$t,r(e.$t("req_form_dialog_header_13")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA11),1),o("th",Ut,r(e.$t("req_form_dialog_header_14")),1),o("td",null,r(l.oDetailItem.FORM_INPT_DATA12),1)]),o("tr",null,[o("th",null,r(e.$t("req_form_dialog_header_15")),1),o("td",Vt,r(l.oDetailItem.FORM_INPT_DATA13),1)]),o("tr",null,[o("td",null,r(e.$t("req_form_dialog_header_16")),1),o("td",Gt,r(l.oDetailItem.FORM_INPT_DATA14),1)]),o("tr",null,[o("td",null,r(e.$t("req_form_dialog_header_17")),1),o("td",Ht,r(l.oDetailItem.FORM_INPT_DATA15),1)]),o("tr",null,[o("td",null,r(e.$t("req_form_dialog_header_18")),1),o("td",Wt,r(l.oDetailItem.FORM_INPT_DATA16),1)]),o("tr",null,[o("th",zt,r(e.$t("req_form_dialog_header_19")),1),o("td",Kt,[o("div",{innerHTML:l.oDetailItem.FORM_INPT_DATA17},null,8,qt)])]),o("tr",null,[o("th",Qt,r(e.$t("req_form_dialog_header_20")),1),o("td",Xt,[o("div",{innerHTML:l.oDetailItem.FORM_INPT_DATA18},null,8,jt)])])])]),o("div",Jt,[s.bShowDownLoadIcon?(h(),R(g,{key:0,color:"primary",onClick:t[1]||(t[1]=c=>s.DownloadFile(l.oDetailItem)),onKeyup:t[2]||(t[2]=w(c=>s.DownloadFile(l.oDetailItem),["enter"])),"aria-label":"첨부파일 다운로드"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-file")]),_:1}),m(r(e.$t("all_btn_download")),1)]),_:1})):f("",!0),n(B),n(g,{onClick:s.DialogClose,onKeyup:w(s.DialogClose,["enter"]),variant:"outlined",color:"black","aria-label":"닫기"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_close")),1)]),_:1},8,["onClick","onKeyup"])])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])])}const el=P(nt,[["render",Zt]]),tl={props:["iWidth","bDisablePreBtn","bDisableNextBtn"],data(){return{isShow:!1,oShowItem:{cDialogTitle:"",SelectIndex:-1,PST_TTL:"",PST_CN:""},zFileInfo:[],iPaginationIndex:-1,COPYRIGHT_YN:!1,COPYRIGHT_TYPE:"",zCopyRightText:[{cType:"A",cText:"공공누리 제1유형: 출처표시"},{cType:"B",cText:"공공누리 제2유형: 출처표시+상업적 이용금지"},{cType:"C",cText:"공공누리 제3유형: 출처표시+변경금지"},{cType:"D",cText:"공공누리 제4유형: 출처표시+상업적 이용금지+변경금지"},{cType:"E",cText:"공공누리 만료 공공저작물"}]}},components:{EditorRead:J},computed:{cShowPath(){return this.zFileInfo.length>0?"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+this.zFileInfo[this.iPaginationIndex-1].FILE_PATH:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl=Files/NONE.png"},cCopyRightImgPath(){return"/boramae/contents/copyright/copyright_"+this.COPYRIGHT_TYPE+".jpg"},cCopyRightText(){var e;return(e=this.zCopyRightText.filter(t=>t.cType==this.COPYRIGHT_TYPE)[0])==null?void 0:e.cText}},watch:{},mounted(){},methods:{DialogClose(){this.isShow=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},ShowDialog(e,t){this.oShowItem={...e},this.zFileInfo=t,this.iPaginationIndex=1,this.isShow=!0,this.COPYRIGHT_YN=e.COPYRIGHT_YN,this.COPYRIGHT_TYPE=e.COPYRIGHT_TYPE,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.$nextTick(()=>{this.$refs.QuillEditorReadRef.refresh(this.oShowItem.PST_CN)}),this.$emit("onGoToContent")},PreBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex-1)},NextBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex+1)}}},ll={class:"title-xlarge"},il={class:"title-medium font-bold"},ol={class:"text-center"},al={class:"d-flex flex-wrap justify-end pb-1"},sl={key:0,style:{width:"100%"},class:"d-flex align-start justify-start"},nl={class:"detail-medium detail-text-color ml-3",style:{"margin-top":"40px"}};function rl(e,t,i,a,l,s){const d=z("EditorRead");return h(),T("div",null,[n(L,{modelValue:l.isShow,"onUpdate:modelValue":[t[5]||(t[5]=c=>l.isShow=c),s.DialogClose],width:i.iWidth,"min-width":330,"aria-modal":"true"},{default:_(()=>[n(k,{class:"pa-5"},{default:_(()=>[o("h2",ll,r(l.oShowItem.cDialogTitle),1),o("div",il,r(l.oShowItem.PST_TTL),1),n(F,{style:{margin:"4px"}},{default:_(()=>[n(y,{cols:"12",xs:"12",sm:"6",class:"pa-0",style:{"max-height":"calc(80% - 0px)"}},{default:_(()=>[n(Y,{src:s.cShowPath,"aria-hidden":"","aspect-ratio":"1"},null,8,["src"]),o("div",ol,[l.zFileInfo.length!=0?(h(),R(Ke,{key:0,modelValue:l.iPaginationIndex,"onUpdate:modelValue":t[0]||(t[0]=c=>l.iPaginationIndex=c),length:l.zFileInfo.length,"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left"},null,8,["modelValue","length"])):f("",!0)])]),_:1}),n(y,{cols:"12",xs:"12",sm:"6",class:"pl-6 pr-6"},{default:_(()=>[n(d,{ref:"QuillEditorReadRef",class:"ql-editor mt-4",modelValue:l.oShowItem.PST_CN,"onUpdate:modelValue":t[1]||(t[1]=c=>l.oShowItem.PST_CN=c)},null,8,["modelValue"])]),_:1}),n(y,{cols:"12"},{default:_(()=>[o("div",al,[n(g,{onClick:t[2]||(t[2]=c=>s.PreBoard()),disabled:i.bDisablePreBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-270",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_pre")),1)]),_:1},8,["disabled"]),n(g,{onClick:t[3]||(t[3]=c=>s.NextBoard()),disabled:i.bDisableNextBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-90",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_next")),1)]),_:1},8,["disabled"]),n(g,{onClick:t[4]||(t[4]=c=>s.DialogClose()),class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_close")),1)]),_:1})])]),_:1})]),_:1}),l.COPYRIGHT_YN?(h(),T("div",sl,[n(Y,{src:s.cCopyRightImgPath,"max-width":"200px","aspect-ratio":16/9,alt:"저작권 유형 이미지"},null,8,["src"]),o("div",nl,r(s.cCopyRightText),1)])):f("",!0)]),_:1})]),_:1},8,["modelValue","width","onUpdate:modelValue"])])}const _l=P(tl,[["render",rl]]),dl={props:["bShowBoardTitle"],data(){return{cShowCardClass:"",BOARD_NM:"",cNowSearchKeyWord:"",zData:[],SHOW_PST_ID:"",iShowIndex:-1}},computed:{bDisablePreBtn(){return this.iShowIndex==0},bDisableNextBtn(){return this.iShowIndex==this.zData.length-1}},mounted(){this.SHOW_PST_ID=this.$route.query.id?this.$route.query.id:""},methods:{onResize(){this.$vuetify.display.md?this.cShowCardClass="card_list_md":this.$vuetify.display.sm?this.cShowCardClass="card_list_sm":this.$vuetify.display.xs?this.cShowCardClass="card_list_xs":this.cShowCardClass="card_list_lg"},InitDynamicBoardGalleryInfo(e){this.BOARD_NM=e[0].BOARD_NM,this.BOARDLIST_ID=e[0].BOARDLIST_ID,this.BOARD_TABLE_NM=e[0].BOARD_TABLE_NM,this.GetDynamicBoardGalleryInfo()},GetDynamicBoardGalleryInfo(){this.zData=[];var e={BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,NowSearchKeyWord:this.cNowSearchKeyWord};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardGalleryInfo",e,{headers:{}}).then(t=>{if(t.data.ResultCd==="00"){if(t.data.Result.forEach(i=>{i.cShowCreateDateTime=x(i.CRT_DT),i.cShowPath="https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+i.FILE_PATH}),this.zData=t.data.Result,console.log(this.zData),this.SHOW_PST_ID!=""){let i=this.zData.find(a=>a.PST_ID==this.SHOW_PST_ID);this.ShowDialog(i)}}else S.$emit("onShowMsg",{cSubTitle:"목록 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${t.data.Msg}`})}).catch(t=>{}).finally(()=>{})},async ShowDialog(e){this.iShowIndex=this.zData.indexOf(e),console.log(">>>>>>>>>>>>>>",this.iShowIndex);var t=await this.GetDynamicBoardGalleryItemInfo(e.PST_ID);if(t.data.ResultCd=="44"){S.$emit("onTokenExpired");return}t.data.ResultCd=="00"?t.data.Result1.length==0||this.$refs.M4_ShowGalleryDialog_ref.ShowDialog({cDialogTitle:this.BOARD_NM,SelectIndex:this.iShowIndex,PST_TTL:t.data.Result1[0].PST_TTL,PST_CN:t.data.Result1[0].PST_CN,COPYRIGHT_YN:t.data.Result1[0].COPYRIGHT_YN=="Y",COPYRIGHT_TYPE:t.data.Result1[0].COPYRIGHT_TYPE},t.data.Result2):S.$emit("onShowMsg",{cSubTitle:"상세 보기 중 문제가 발생했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다.",cMsg:`(${t.data.ResultCd}) ${t.data.Msg}`})},GetDynamicBoardGalleryItemInfo(e){var t={SITE_ID:"1034",BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,PST_ID:e};return new Promise(i=>C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardGalleryItemInfo",t,{headers:{}}).then(a=>{i(a)}).catch(a=>{i({data:{ResultCd:"98",Msg:a}})}))},ChangeBoardDetail(e){this.ShowDialog(this.zData[e])}}},hl={key:0,class:"title-xxlarge"},cl={class:"mt-2 pa-3"},ul={class:"d-flex flex-wrap"},ml={class:"show_list_title line_clamp_2"},Tl={style:{"font-size":"13px"}};function Dl(e,t,i,a,l,s){const d=U,c=_l;return h(),T("div",null,[i.bShowBoardTitle?(h(),T("h1",hl,r(l.BOARD_NM),1)):f("",!0),be((h(),T("div",cl,[n(d,{label:e.$t("common_search"),placeholder:e.$t("req_policy_placeholder"),modelValue:l.cNowSearchKeyWord,"onUpdate:modelValue":t[0]||(t[0]=u=>l.cNowSearchKeyWord=u),icon:"mdi-magnify",onKeyup:w(s.GetDynamicBoardGalleryInfo,["enter"]),"onClick:appendInner":s.GetDynamicBoardGalleryInfo},null,8,["label","placeholder","modelValue","onKeyup","onClick:appendInner"]),o("div",ul,[(h(!0),T(E,null,M(l.zData,(u,D)=>(h(),R(k,{key:D,class:v([l.cShowCardClass,"pa-3 mouse-cur"]),onClick:I=>s.ShowDialog(u),onKeyup:w(I=>s.ShowDialog(u),["enter"]),tabindex:"0",role:"button","aria-label":"상세화면"},{default:_(()=>[n(Y,{src:u.cShowPath,height:100,style:{"margin-bottom":"8px"},alt:""},null,8,["src"]),o("div",ml,r(u.PST_TTL),1),o("div",Tl,r(u.cShowCreateDateTime),1)]),_:2},1032,["class","onClick","onKeyup"]))),128))])])),[[qe,s.onResize]]),n(c,{iWidth:"60%",bDisablePreBtn:s.bDisablePreBtn,bDisableNextBtn:s.bDisableNextBtn,onChangeBoardDetail:s.ChangeBoardDetail,ref:"M4_ShowGalleryDialog_ref"},null,8,["bDisablePreBtn","bDisableNextBtn","onChangeBoardDetail"])])}const Il=P(dl,[["render",Dl],["__scopeId","data-v-88a890d0"]]),Sl={props:["iWidth","bDisablePreBtn","bDisableNextBtn","caption"],data(){return{isShow:!1,oShowItem:{SelectIndex:-1,INQ_CNT:0,CRT_USER_ID:"",PST_TTL:"",PST_CN:""},zFileInfo:[],iPaginationIndex:-1}},computed:{},components:{},watch:{},mounted(){},methods:{ShowDialog(e){this.oShowItem={...e},this.isShow=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement},DialogClose(){this.isShow=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},PreBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex-1)},NextBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex+1)}}},fl={class:"nor_table"},pl={class:"sr-only"},Nl={scope:"row"},gl={colspan:"12"},Rl={scope:"row"},Cl={colspan:"6"},yl={scope:"row"},bl={colspan:"6"},wl={class:"pa-2"},Pl=["innerHTML"],El={class:"d-flex flex-wrap justify-end"};function Ml(e,t,i,a,l,s){return h(),T("div",null,[n(L,{"aria-modal":"true","onUpdate:modelValue":[s.DialogClose,t[3]||(t[3]=d=>l.isShow=d)],modelValue:l.isShow,width:i.iWidth},{default:_(()=>[n(k,{class:"pa-5"},{default:_(()=>[o("table",fl,[o("caption",pl,r(i.caption)+" 게시글 테이블",1),o("tbody",null,[o("tr",null,[o("th",Nl,r(e.$t("all_table_header_4")),1),o("td",gl,[o("div",null,r(l.oShowItem.PST_TTL),1)])]),o("tr",null,[o("th",Rl,r(e.$t("all_table_header_5")),1),o("td",Cl,[o("div",null,r(l.oShowItem.CRT_USER_ID),1)]),o("th",yl,r(e.$t("all_table_header_3")),1),o("td",bl,[o("div",null,r(l.oShowItem.INQ_CNT),1)])])])]),o("div",wl,[o("div",{innerHTML:l.oShowItem.PST_CN},null,8,Pl)]),o("div",El,[n(g,{onClick:t[0]||(t[0]=d=>s.PreBoard()),disabled:i.bDisablePreBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-270",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_pre")),1)]),_:1},8,["disabled"]),n(g,{onClick:t[1]||(t[1]=d=>s.NextBoard()),disabled:i.bDisableNextBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-90",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_next")),1)]),_:1},8,["disabled"]),n(g,{onClick:t[2]||(t[2]=d=>s.DialogClose()),class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_close")),1)]),_:1})])]),_:1})]),_:1},8,["onUpdate:modelValue","modelValue","width"])])}const Al=P(Sl,[["render",Ml]]),Bl={props:["bShowBoardTitle"],data(){return{BOARD_NM:"",BOARDLIST_ID:"",BOARD_TABLE_NM:"",cNowSearchKeyWord:"",headers:[{title:this.$t("all_table_header_10"),key:"cPreViewPath",sortable:!1,align:"center"},{title:this.$t("req_form_table_header_1"),key:"PST_TTL"},{title:"생성시간",key:"cShowCreateDateTime"}],zData:[],iShowIndex:-1}},computed:{bDisablePreBtn(){return this.iShowIndex==0},bDisableNextBtn(){return this.iShowIndex==this.zData.length-1}},methods:{InitDynamicBoardVideoInfo(e){this.BOARD_NM=e[0].BOARD_NM,this.BOARDLIST_ID=e[0].BOARDLIST_ID,this.BOARD_TABLE_NM=e[0].BOARD_TABLE_NM,this.GetDynamicBoardVideoInfo()},GetDynamicBoardVideoInfo(){this.zData=[];var e={BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,NowSearchKeyWord:this.cNowSearchKeyWord};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardVideoInfo",e,{headers:{}}).then(t=>{t.data.ResultCd==="00"?this.zData=t.data.Result.map(i=>(i.cShowCreateDateTime=x(i.CRT_DT),i.cPreViewPath="https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+i.FILE_PATH,i)):S.$emit("onShowMsg",{cSubTitle:"목록 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${t.data.Msg}`})}).catch(t=>{S.$emit("onShowMsg",{cSubTitle:"목록 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${t}`})}).finally(()=>{})},handleRowClick(e,{item:t}){this.ShowDialog(t)},async ShowDialog(e){this.iShowIndex=this.zData.indexOf(e);var t=await this.GetDynamicBoardVideoItemInfo(e.PST_ID);if(t.data.ResultCd=="44"){S.$emit("onTokenExpired");return}t.data.ResultCd=="00"?t.data.Result.length==0||this.$refs.M4_ShowVideoDialog_ref.ShowDialog({SelectIndex:this.iShowIndex,INQ_CNT:t.data.Result[0].INQ_CNT,CRT_USER_ID:t.data.Result[0].CRT_USER_ID,PST_TTL:t.data.Result[0].PST_TTL,PST_CN:t.data.Result[0].PST_CN}):S.$emit("onShowMsg",{cSubTitle:"상세 보기 중 문제가 발생했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다.",cMsg:`(${t.data.ResultCd}) ${t.data.Msg}`})},GetDynamicBoardVideoItemInfo(e){var t={SITE_ID:"1034",BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,PST_ID:e};return new Promise(i=>C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardVideoItemInfo",t,{headers:{}}).then(a=>{i(a)}).catch(a=>{i({data:{ResultCd:"98",Msg:a}})}))},ChangeBoardDetail(e){this.ShowDialog(this.zData[e])}}},kl={key:0,class:"title-xxlarge"},Ol={class:"mt-2 pa-3"},vl={class:"nor_table_center"},Fl={id:"table-caption",class:"sr-only"},Ll=["onClick"],xl=["onClick","onKeyup"];function Yl(e,t,i,a,l,s){const d=U,c=Al;return h(),T("div",null,[i.bShowBoardTitle?(h(),T("div",kl,r(l.BOARD_NM),1)):f("",!0),o("div",Ol,[n(d,{label:e.$t("common_search"),"aria-label":e.$t("common_search"),placeholder:e.$t("all_table_placeholder_1"),modelValue:l.cNowSearchKeyWord,"onUpdate:modelValue":t[0]||(t[0]=u=>l.cNowSearchKeyWord=u),onKeyup:w(s.GetDynamicBoardVideoInfo,["enter"]),"onClick:appendInner":s.GetDynamicBoardVideoInfo,iconTitle:"검색",icon:"mdi-magnify"},null,8,["label","aria-label","placeholder","modelValue","onKeyup","onClick:appendInner"]),n(j,{headers:l.headers,items:l.zData,"item-key":"PST_ID","aria-labelledby":"table-caption"},{default:_(u=>[o("table",vl,[o("caption",Fl,r(l.BOARD_NM)+" 테이블",1),o("thead",null,[o("tr",null,[(h(!0),T(E,null,M(u.headers[0],D=>(h(),T("th",{key:D.value,scope:"col"},r(D.title),1))),128))])]),o("tbody",null,[(h(!0),T(E,null,M(u.items,D=>(h(),T("tr",{key:D.PST_ID},[o("td",null,[o("div",{class:"pa-4",align:"center",onClick:I=>s.ShowDialog(D)},[n(Y,{src:D.cPreViewPath,width:"120",alt:"게시글 미리보기 이미지"},null,8,["src"])],8,Ll)]),o("td",null,[o("div",{onClick:I=>s.ShowDialog(D),onKeyup:w(I=>s.ShowDialog(D),["enter"]),class:"data_title",tabindex:"0",alt:"상세화면"},r(D.PST_TTL),41,xl)]),o("td",null,r(D.cShowCreateDateTime),1)]))),128))])])]),_:1},8,["headers","items"])]),n(c,{caption:l.BOARD_NM,iWidth:"80%",bDisablePreBtn:s.bDisablePreBtn,bDisableNextBtn:s.bDisableNextBtn,onChangeBoardDetail:s.ChangeBoardDetail,ref:"M4_ShowVideoDialog_ref"},null,8,["caption","bDisablePreBtn","bDisableNextBtn","onChangeBoardDetail"])])}const $l=P(Bl,[["render",Yl],["__scopeId","data-v-93db948b"]]),Ul={props:["iWidth"],data(){return{bShow:!1,bReplyDialog:!1,oReplyItem:{CRT_USER_ID:"",PSWD:"",CMNT_CN:"",bShowPwd:!1},oDefaultReplyItem:{CRT_USER_ID:"",PSWD:"",CMNT_CN:"",bShowPwd:!1}}},computed:{sAppendIcon(){return this.oReplyItem.bShowPwd?"mdi-eye":"mdi-eye-off"}},components:{},mounted(){},methods:{DialogClose(){this.bReplyDialog=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogReplyBtn")},ShowDialog(){this.bReplyDialog=!0,this.$store.state.isDialog=!0,this.$store.state.btnReplyDialogRef=document.activeElement,this.oReplyItem={...this.oDefaultReplyItem}},CloseDialog(){this.DialogClose(),this.oReplyItem={...this.oDefaultReplyItem}},SetReplyDialog(){var e=!1,t="";this.oReplyItem.CRT_USER_ID=this.oReplyItem.CRT_USER_ID.trim(),this.oReplyItem.PSWD=this.oReplyItem.PSWD.trim(),this.oReplyItem.CMNT_CN=this.oReplyItem.CMNT_CN.trim(),this.oReplyItem.CRT_USER_ID==""&&(t="작성자 정보 누락",e=!0),!e&&this.oReplyItem.PSWD==""&&(t="비밀번호 정보 누락",e=!0),!e&&this.oReplyItem.CMNT_CN==""&&(t="댓글 데이터 누락",e=!0),e?S.$emit("onShowMsg",{cSubTitle:"누락된 정보가 있습니다.",cTitle:t,cMsg:""}):this.$emit("SetReplyDialog",this.oReplyItem)}}},Vl={class:"title-xlarge"},Gl={for:"pwd",class:"m4_input-label"},Hl={class:"d-flex flex-wrap justify-end pb-1"};function Wl(e,t,i,a,l,s){const d=U,c=re;return h(),R(L,{modelValue:l.bReplyDialog,"onUpdate:modelValue":[t[7]||(t[7]=u=>l.bReplyDialog=u),s.DialogClose],width:i.iWidth,"min-width":330,"aria-modal":"true"},{default:_(()=>[n(k,{class:"pa-5"},{default:_(()=>[o("div",null,[n(F,{class:"ma-0"},{default:_(()=>[n(y,{cols:"12",class:"d-flex align-center"},{default:_(()=>[o("h2",Vl,r(e.$t("m4_showdetail_subtitle_2")),1)]),_:1}),n(y,{cols:"12",md:"6"},{default:_(()=>[n(d,{modelValue:l.oReplyItem.CRT_USER_ID,"onUpdate:modelValue":t[0]||(t[0]=u=>l.oReplyItem.CRT_USER_ID=u),label:e.$t("all_table_header_5"),density:"compact",variant:"outlined",color:"primary"},null,8,["modelValue","label"])]),_:1}),n(y,{cols:"12",md:"6"},{default:_(()=>[o("label",Gl,r(e.$t("all_table_header_9")+"(*)"),1),n(ce,{id:"pwd",density:"compact",variant:"outlined","persistent-placeholder":"",class:v(["mb-2 custom-opacity",{test_password_style:!l.bShow}]),"onClick:appendInner":t[1]||(t[1]=u=>l.bShow=!l.bShow),"append-inner-icon":s.sAppendIcon,onKeyup:t[2]||(t[2]=_e(u=>e.CopyByCtrlC(u,l.oReplyItem.PSWD),["ctrl"])),modelValue:l.oReplyItem.PSWD,"onUpdate:modelValue":t[3]||(t[3]=u=>l.oReplyItem.PSWD=u),"hide-details":""},null,8,["class","append-inner-icon","modelValue"])]),_:1}),n(y,{cols:"12"},{default:_(()=>[n(c,{modelValue:l.oReplyItem.CMNT_CN,"onUpdate:modelValue":t[4]||(t[4]=u=>l.oReplyItem.CMNT_CN=u),"hide-details":"",label:e.$t("req_policy_header_3"),"auto-grow":!0,"no-resize":!0,rows:"1"},null,8,["modelValue","label"])]),_:1})]),_:1}),o("div",Hl,[n(g,{onClick:t[5]||(t[5]=u=>s.SetReplyDialog()),class:"ml-3 mt-4",color:"primary"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-pencil")]),_:1}),m(r(e.$t("all_btn_reply")),1)]),_:1}),n(g,{onClick:t[6]||(t[6]=u=>s.DialogClose()),class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_close")),1)]),_:1})])])]),_:1})]),_:1},8,["modelValue","width","onUpdate:modelValue"])}const zl=P(Ul,[["render",Wl],["__scopeId","data-v-c34510ac"]]),Kl={data(){return{isShow:!1,bShow:!1,oEditItem:{cCaseType:"",PSWD:""},oDefaultEditItem:{cCaseType:"",PSWD:""}}},computed:{sAppendIcon(){return this.bShow?"mdi-eye":"mdi-eye-off"}},mounted(){},methods:{DialogClose(){this.isShow=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},PressEnterKeyboard(e){e.target.tagName.toUpperCase()=="I"?this.bShow=!this.bShow:this.CheckAuth_ALL()},CopyByCtrlC(e,t){(e.key.toUpperCase()=="C"||e.key.toUpperCase()=="X")&&navigator.clipboard.writeText(t)},ShowAuthDialog(e){this.isShow=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.bShow=!1,this.oEditItem={...this.oDefaultEditItem},this.oEditItem.cCaseType=e},CancelAuth(){this.isShow=!1,this.bShow=!1,this.oEditItem={...this.oDefaultEditItem}},FailAuthMember(){this.oEditItem.PSWD=""},CheckAuth_ALL(){this.$emit("goauth",{cCaseType:this.oEditItem.cCaseType,PSWD:this.oEditItem.PSWD})}}},ql={class:"title-xxlarge"},Ql={class:"title-medium font-bold mb-2"},Xl={class:"d-flex flex-wrap justify-end pb-1"};function jl(e,t,i,a,l,s){return h(),R(L,{"aria-modal":"true","onUpdate:modelValue":[s.DialogClose,t[7]||(t[7]=d=>l.isShow=d)],modelValue:l.isShow,width:"40%","min-width":"350px"},{default:_(()=>[n(k,{class:"pa-4 pl-6 pr-6"},{default:_(()=>[o("h1",ql,r(e.$t("m4_authmember_title")),1),o("div",Ql,"※ "+r(e.$t("m4_authmember_subtitle"))+".",1),n(F,null,{default:_(()=>[n(y,{cols:"12"},{default:_(()=>[n(ce,{"hide-details":"",modelValue:l.oEditItem.PSWD,"onUpdate:modelValue":t[0]||(t[0]=d=>l.oEditItem.PSWD=d),label:e.$t("all_table_header_9"),"aria-label":e.$t("all_table_header_9"),onKeyup:[w(s.PressEnterKeyboard,["enter"]),t[1]||(t[1]=_e(d=>s.CopyByCtrlC(d,l.oEditItem.PSWD),["ctrl"]))],"onClick:appendInner":t[2]||(t[2]=d=>l.bShow=!l.bShow),class:v([{test_password_style:!l.bShow},"mt-3"]),density:"compact",variant:"outlined",color:"primary",ref:"auth_pwd_ref","persistent-placeholder":""},{"append-inner":_(()=>[n(p,{"aria-hidden":"true"},{default:_(()=>[m(r(s.sAppendIcon),1)]),_:1})]),_:1},8,["modelValue","label","aria-label","onKeyup","class"])]),_:1})]),_:1}),o("div",Xl,[n(g,{onClick:t[3]||(t[3]=d=>s.CheckAuth_ALL()),onKeyup:t[4]||(t[4]=w(d=>s.CheckAuth_ALL(),["enter"])),class:"ml-3 mt-4",color:"primary",width:"80px"},{default:_(()=>[m(r(e.$t("all_btn_check")),1)]),_:1}),n(g,{onClick:t[5]||(t[5]=d=>s.CancelAuth()),onKeyup:t[6]||(t[6]=w(d=>s.CancelAuth(),["enter"])),class:"ml-3 mt-4",variant:"outlined",color:"black",width:"80px"},{default:_(()=>[m(r(e.$t("all_btn_cancel")),1)]),_:1})])]),_:1})]),_:1},8,["onUpdate:modelValue","modelValue"])}const ue=P(Kl,[["render",jl],["__scopeId","data-v-4423ad76"]]),Jl={props:["iWidth","bDisablePreBtn","bDisableNextBtn","bShowEditBtn","bShowDelBtn","bShowReplyUX","bShowFileUX","caption"],data(){return{isShow:!1,oShowItem:{PST_ID:"",PSWD:"",SelectIndex:-1,FT_CD:"",TEXT:"",PST_TTL:"",CRT_USER_ID:"",INQ_CNT:0,PST_CN:""},oDefaultShowItem:{PST_ID:"",PSWD:"",SelectIndex:-1,FT_CD:"",TEXT:"",PST_TTL:"",CRT_USER_ID:"",INQ_CNT:0,PST_CN:""},zFileInfo:[],zReplyInfo:[],iDelReplyIndex:-1,oDelReplyInfo:{CMNT_CN:"",CMNT_SEQ:"",PST_ID:"",CRT_DT:"",CRT_USER_ID:"",cShowCreateDateTime:""},COPYRIGHT_YN:!1,COPYRIGHT_TYPE:"",zCopyRightText:[{cType:"A",cText:"공공누리 제1유형: 출처표시"},{cType:"B",cText:"공공누리 제2유형: 출처표시+상업적 이용금지"},{cType:"C",cText:"공공누리 제3유형: 출처표시+변경금지"},{cType:"D",cText:"공공누리 제4유형: 출처표시+상업적 이용금지+변경금지"},{cType:"E",cText:"공공누리 만료 공공저작물"}]}},computed:{cCopyRightImgPath(){return"/boramae/contents/copyright/copyright_"+this.COPYRIGHT_TYPE+".jpg"},cCopyRightText(){var e;return(e=this.zCopyRightText.filter(t=>t.cType==this.COPYRIGHT_TYPE)[0])==null?void 0:e.cText}},components:{EditorRead:J},mounted(){},methods:{GoAuth(e){e.cCaseType=="DR"?this.$emit("DelReplyAfterCheckAuth",this.oDelReplyInfo.PST_ID,this.oDelReplyInfo.CMNT_SEQ,this.oDelReplyInfo.CRT_USER_ID,e.PSWD):e.cCaseType=="EB"?this.$emit("ShowEditDialogAfterCheckAuth",e.PSWD,this.oShowItem.SelectIndex):this.$emit("DelBoardAfterCheckAuth",e.PSWD,this.oShowItem.SelectIndex)},CloseAuthDialog(){this.$refs.M4_AuthMember_ref.CancelAuth()},CopyByCtrlC(e,t){(e.key.toUpperCase()=="C"||e.key.toUpperCase()=="X")&&navigator.clipboard.writeText(t)},previewAjax(e){var t="TVW3MGA0YLL89BP6MRNDAG",i="sg_068",a=encodeURIComponent("https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+e.FILE_PATH),l=encodeURIComponent(e.FILE_NM);window.open(`https://seoul.viewstory.net/previewAjax.do?apikey=${t}&cc=${i}&url=${a}&fileName=${l}`,"a","width=1200, height=1000, left=100, top=50")},preListen(e){var t="TVW3MGA0YLL89BP6MRNDAG",i="sg_068",a=encodeURIComponent("https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+e.FILE_PATH),l=encodeURIComponent(e.FILE_NM);window.open(`https://seoul.viewstory.net/voiceOverAjax.do?apikey=${t}&cc=${i}&url=${a}&fileName=${l}`,"a","width=1200, height=1000, left=100, top=50")},ShowDialog(e,t,i){this.isShow=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.oShowItem={...e},this.COPYRIGHT_YN=e.COPYRIGHT_YN,this.COPYRIGHT_TYPE=e.COPYRIGHT_TYPE,this.zFileInfo=t,this.zReplyInfo=i,this.$nextTick(()=>{this.$refs.QuillEditorReadRef.refresh(this.oShowItem.PST_CN)}),this.$emit("onGoToContent")},goToContent(){setTimeout(()=>{const e=document.getElementById("cmm-content");if(e){const t=e.querySelectorAll('[tabindex="0"]');console.log(t),t.length>0?t[0].focus({preventScroll:!0}):console.warn("포커스 가능한 요소가 없습니다.")}},400)},CloseDialog(){this.isShow=!1,this.oShowItem={...this.oDefaultShowItem},this.zFileInfo=[],this.zReplyInfo=[],this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},DownloadFile(e){C({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+e.FILE_PATH,method:"GET",responseType:"blob"}).then(t=>{const i=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",e.FILE_NM),document.body.appendChild(a),a.click()})},ShowReplyDialog(){this.$refs.M4_WriteReplyDialog_ref.ShowDialog()},PreBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex-1)},NextBoard(){this.$emit("ChangeBoardDetail",this.oShowItem.SelectIndex+1)},EditBoard(){this.$refs.M4_AuthMember_ref.ShowAuthDialog("EB")},DelBoard(){this.$refs.M4_AuthMember_ref.ShowAuthDialog("DB")},SetReplyDialog(e){this.$emit("SetReply",e,this.oShowItem.SelectIndex)},AddReply(e){this.$refs.M4_WriteReplyDialog_ref.CloseDialog(),this.zReplyInfo.unshift(e)},DelReply(){this.$refs.M4_AuthMember_ref.CancelAuth(),this.zReplyInfo.splice(this.iDelReplyIndex,1)},CheckAuthDialog(e){this.oDelReplyInfo={...e},this.iDelReplyIndex=this.zReplyInfo.indexOf(e),this.$refs.M4_AuthMember_ref.ShowAuthDialog("DR")}}},Zl=e=>(de("data-v-f26189f0"),e=e(),he(),e),ei={class:"nor_table"},ti={class:"sr-only"},li={colspan:"3"},ii={key:0},oi={colspan:"3"},ai={colspan:"1"},si={colspan:"1"},ni={colspan:"1"},ri={colspan:"1"},_i={key:0,class:"mt-4",style:{background:"white !important",overflow:"auto",outline:"#00000030 1px solid",padding:"12px","min-height":"100px"}},di={class:"title-medium font-bold pb-0"},hi={key:0},ci={style:{"min-width":"50px",width:"200px"},class:"ml-2 mr-2 line_clamp_1"},ui={key:1,class:"mt-4",style:{background:"white !important",overflow:"auto",outline:"#00000030 1px solid","min-height":"50px"}},mi={class:"d-flex title-medium font-bold align-center",style:{position:"absolute","z-index":"12","background-color":"white",width:"calc(100% - 40px)","margin-top":"0.1px","padding-right":"12px","padding-left":"12px","padding-top":"5px"}},Ti=Zl(()=>o("div",{class:"blank_area_essential"},null,-1)),Di={class:"d-flex"},Ii=["innerHTML"],Si={class:"d-flex flex-wrap justify-end pb-1"},fi={key:2,style:{width:"100%"},class:"d-flex align-start justify-start"},pi={class:"detail-medium detail-text-color ml-3",style:{"margin-top":"40px"}};function Ni(e,t,i,a,l,s){const d=z("EditorRead"),c=ue,u=zl;return h(),T("div",null,[n(L,{modelValue:l.isShow,"onUpdate:modelValue":[t[7]||(t[7]=D=>l.isShow=D),s.CloseDialog],width:i.iWidth,"min-width":330,"aria-modal":"true",role:"dialog","aria-labelledby":"dialogTitle","aria-describedby":"dialogDesc"},{default:_(()=>[n(k,{class:"pa-5"},{default:_(()=>[o("table",ei,[o("caption",ti,r(i.caption)+" 게시글 테이블",1),o("thead",null,[o("tr",null,[o("th",null,r(e.$t("all_table_header_4")),1),o("td",li,r(l.oShowItem.PST_TTL),1)]),l.oShowItem.TEXT!=""?(h(),T("tr",ii,[o("th",null,r(e.$t("all_table_header_8")),1),o("td",oi,r(l.oShowItem.TEXT),1)])):f("",!0)]),o("tbody",null,[o("tr",null,[o("th",ai,r(e.$t("all_table_header_5")),1),o("td",si,r(l.oShowItem.CRT_USER_ID),1),o("th",ni,r(e.$t("all_table_header_3")),1),o("td",ri,r(l.oShowItem.INQ_CNT),1)])])]),n(d,{ref:"QuillEditorReadRef",class:"ql-editor mt-4",modelValue:l.oShowItem.PST_CN,"onUpdate:modelValue":t[0]||(t[0]=D=>l.oShowItem.PST_CN=D)},null,8,["modelValue"]),l.zFileInfo.length>0&&i.bShowFileUX?(h(),T("div",_i,[o("div",di,r(e.$t("m4_showdetail_subtitle_1")),1),l.zFileInfo[0].FILE_ID=="NONE"?(h(),T("div",hi," 파일없음")):(h(!0),T(E,{key:1},M(l.zFileInfo,(D,I)=>(h(),T("div",{key:I,class:"d-flex align-center mb-2"},[o("div",ci,r(D.FILE_NM),1),n(B),m("| "),n(g,{onClick:N=>s.DownloadFile(D),variant:"text"},{default:_(()=>[m(r(e.$t("all_btn_download")),1)]),_:2},1032,["onClick"]),n(g,{class:"ml-2 mr-2",onClick:N=>s.previewAjax(D)},{default:_(()=>[n(p,{"aria-hidden":"true",size:"24"},{default:_(()=>[m("mdi-magnify-plus-outline")]),_:1}),m(r(e.$t("m4_showdetail_content_1")),1)]),_:2},1032,["onClick"]),n(g,{class:"ml-2 mr-2",onClick:N=>s.preListen(D)},{default:_(()=>[n(p,{"aria-hidden":"true",size:"24"},{default:_(()=>[m("mdi-speaker-wireless")]),_:1}),m(r(e.$t("m4_showdetail_content_2")),1)]),_:2},1032,["onClick"])]))),128))])):f("",!0),i.bShowReplyUX?(h(),T("div",ui,[o("div",mi,[m(r(e.$t("req_policy_header_3"))+" ",1),n(B),n(g,{onClick:t[1]||(t[1]=D=>s.ShowReplyDialog()),color:"primary"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-pencil")]),_:1}),m(r(e.$t("all_btn_reply")),1)]),_:1})]),Ti,n(te,{"aria-hidden":!0,class:"ml-3 mr-3"}),(h(!0),T(E,null,M(l.zReplyInfo,(D,I)=>(h(),T("div",{key:I,class:"mb-2",style:{"padding-right":"12px","padding-left":"12px","margin-top":"5px"}},[n(k,{tile:"",flat:"",width:"100%",class:"detail-medium detail-text-color"},{default:_(()=>[o("div",Di,[m(r(D.CRT_USER_ID)+" ",1),n(B),n(g,{onClick:N=>s.CheckAuthDialog(D),variant:"outlined",color:"black",style:{height:"25px",width:"40px"}},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_delete")),1)]),_:2},1032,["onClick"])]),o("div",{innerHTML:D.CMNT_CN},null,8,Ii),o("div",null,r(D.cShowCreateDateTime),1),n(te,{"aria-hidden":!0})]),_:2},1024)]))),128))])):f("",!0),o("div",Si,[n(g,{onClick:t[2]||(t[2]=D=>s.PreBoard()),disabled:i.bDisablePreBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-270",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_pre")),1)]),_:1},8,["disabled"]),n(g,{onClick:t[3]||(t[3]=D=>s.NextBoard()),disabled:i.bDisableNextBtn,class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",class:"mdi-rotate-90",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-triangle")]),_:1}),m(r(e.$t("all_btn_next")),1)]),_:1},8,["disabled"]),i.bShowEditBtn?(h(),R(g,{key:0,onClick:t[4]||(t[4]=D=>s.EditBoard()),class:"ml-3 mt-4",color:"primary"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-file-edit-outline")]),_:1}),m(r(e.$t("all_btn_edit")),1)]),_:1})):f("",!0),i.bShowDelBtn?(h(),R(g,{key:1,onClick:t[5]||(t[5]=D=>s.DelBoard()),class:"ml-3 mt-4",color:"primary"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-file-edit-outline")]),_:1}),m(r(e.$t("all_btn_delete")),1)]),_:1})):f("",!0),n(g,{ref:"msg_btn_show_detail_okey",onClick:t[6]||(t[6]=D=>s.CloseDialog()),class:"ml-3 mt-4",variant:"outlined",color:"black"},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-close")]),_:1}),m(r(e.$t("all_btn_close")),1)]),_:1},512)]),l.COPYRIGHT_YN?(h(),T("div",fi,[n(Y,{src:s.cCopyRightImgPath,"max-width":"200px","aspect-ratio":16/9,alt:"저작권 유형 이미지"},null,8,["src"]),o("div",pi,r(s.cCopyRightText),1)])):f("",!0)]),_:1})]),_:1},8,["modelValue","width","onUpdate:modelValue"]),n(c,{onGoauth:s.GoAuth,ref:"M4_AuthMember_ref"},null,8,["onGoauth"]),n(u,{iWidth:i.iWidth,onSetReplyDialog:s.SetReplyDialog,ref:"M4_WriteReplyDialog_ref"},null,8,["iWidth","onSetReplyDialog"])])}const gi=P(Jl,[["render",Ni],["__scopeId","data-v-f26189f0"]]),Ri=we({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Qe(),...Pe()},"VSwitch"),Ci=Ee()({name:"VSwitch",inheritAttrs:!1,props:Ri(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:i,slots:a}=t;const l=le(e,"indeterminate"),s=le(e,"modelValue"),{loaderClasses:d}=Me(e),{isFocused:c,focus:u,blur:D}=Xe(e),I=Ae(),N=Be&&window.matchMedia("(forced-colors: active)").matches,A=ie(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),Te=ke(),De=ie(()=>e.id||`switch-${Te}`);function Ie(){l.value&&(l.value=!1)}function Se(V){var G,H;V.stopPropagation(),V.preventDefault(),(H=(G=I.value)==null?void 0:G.input)==null||H.click()}return Oe(()=>{const[V,G]=ve(i),H=ne.filterProps(e),fe=oe.filterProps(e);return n(ne,ae({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":l.value},d.value,e.class]},V,H,{modelValue:s.value,"onUpdate:modelValue":K=>s.value=K,id:De.value,focused:c.value,style:e.style}),{...a,default:K=>{let{id:pe,messagesId:Ne,isDisabled:ge,isReadonly:Re,isValid:ee}=K;const q={model:s,isValid:ee};return n(oe,ae({ref:I},fe,{modelValue:s.value,"onUpdate:modelValue":[$=>s.value=$,Ie],id:pe.value,"aria-describedby":Ne.value,type:"checkbox","aria-checked":l.value?"mixed":void 0,disabled:ge.value,readonly:Re.value,onFocus:u,onBlur:D},G),{...a,default:$=>{let{backgroundColorClasses:Q,backgroundColorStyles:O}=$;return n("div",{class:["v-switch__track",N?void 0:Q.value],style:O.value,onClick:Se},[a["track-true"]&&n("div",{key:"prepend",class:"v-switch__track-true"},[a["track-true"](q)]),a["track-false"]&&n("div",{key:"append",class:"v-switch__track-false"},[a["track-false"](q)])])},input:$=>{let{inputNode:Q,icon:O,backgroundColorClasses:Ce,backgroundColorStyles:ye}=$;return n(E,null,[Q,n("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":O||e.loading},e.inset||N?void 0:Ce.value],style:e.inset?void 0:ye.value},[a.thumb?n(Fe,{defaults:{VIcon:{icon:O,size:"x-small"}}},{default:()=>[a.thumb({...q,icon:O})]}):n(Le,null,{default:()=>[e.loading?n(xe,{name:"v-switch",active:!0,color:ee.value===!1?void 0:A.value},{default:X=>a.loader?a.loader(X):n(Ye,{active:X.isActive,color:X.color,indeterminate:!0,size:"16",width:"2"},null)}):O&&n(p,{key:String(O),icon:O,size:"x-small"},null)]})])])}})}})}),{}}}),yi={props:["bShowBoardTitle"],data(){return{BOARD_NM:"",cNowSearchKeyWord:"",headers:[{title:this.$t("all_table_header_1"),key:"iIndex",sortable:!1,align:"center"},{title:this.$t("all_table_header_4"),key:"PST_TTL"},{title:this.$t("all_table_header_2"),key:"is_file",sortable:!1,align:"center"},{title:this.$t("all_table_header_5"),key:"CRT_USER_ID"},{title:this.$t("all_table_header_6"),key:"cShowCreateDateTime"},{title:this.$t("all_table_header_3"),key:"INQ_CNT"}],zData:[],bDialog:!1,iEditIndex:-1,NMBR_WRT_YN:!1,PRVT_USE_YN:!1,CMNT_USE_YN:!1,ATCH_FILE_USE_YN:!1,SHOW_PST_ID:"",BOARDLIST_ID:"",BOARD_TABLE_NM:"",CMNT_TABLE_NM:"",NTC_USE_YN:"",NowSelFile:null,bShow1:!1,iCheckIndex:-1,oEditItem:{PST_ID:"",CRT_USER_ID:"",PSWD:"",PST_CN:"",PST_TTL:"",bSecret:!1,FILE_ID:"NONE",FILE_NM:"",FILE_PATH:"",Token:"",COPYRIGHT_YN:!1,COPYRIGHT_TYPE:""},oDefaultEditItem:{PST_ID:"",CRT_USER_ID:"",PSWD:"",PST_CN:"",PST_TTL:"",bSecret:!1,FILE_ID:"NONE",FILE_NM:"",FILE_PATH:"",Token:"",COPYRIGHT_YN:!1,COPYRIGHT_TYPE:""},iCheckIndex:-1,iEditIndex:-1,pagination:{page:1,itemsPerPage:10},startIndex:0,getItemsPerAction:200,hasMoreData:!0,totalCount:0}},components:{Editor:je},computed:{sFormatTitle(){return this.iEditIndex==-1?"신규 작성":"수정"},sAppendIcon1(){return this.bShow1?"mdi-eye":"mdi-eye-off"},bDisablePreBtn(){return this.iEditIndex==0},bDisableNextBtn(){return this.iEditIndex==this.zData.length-1}},mounted(){this.SHOW_PST_ID=this.$route.query.id?this.$route.query.id:"",this.SHOW_PST_ID=this.$route.query.id?this.$route.query.id:""},methods:{DialogClose(){this.bDialog=!1,this.$store.state.isDialog=!1,S.$emit("onBackDialogBtn")},InitDynamicBoardListInfo(e){this.BOARD_NM=e[0].BOARD_NM,this.BOARDLIST_ID=e[0].BOARDLIST_ID,this.BOARD_TABLE_NM=e[0].BOARD_TABLE_NM,this.CMNT_TABLE_NM=e[0].CMNT_TABLE_NM,this.NTC_USE_YN=e[0].NTC_USE_YN,this.NMBR_WRT_YN=b(e[0].NMBR_WRT_YN),this.PRVT_USE_YN=b(e[0].PRVT_USE_YN),this.CMNT_USE_YN=b(e[0].CMNT_USE_YN),this.ATCH_FILE_USE_YN=b(e[0].ATCH_FILE_USE_YN),this.ATCH_FILE_USE_YN||this.headers.splice(2,1),this.GetDynamicBoardListInfo()},handlePageChange(){const e=Math.ceil(this.zData.length/this.pagination.itemsPerPage);this.pagination.page===1||!this.hasMoreData||this.pagination.page==e&&this.GetDynamicBoardListInfo(!0)},GetDynamicBoardListInfo(e=!1){if(e||(this.zData=[],this.startIndex=0,this.hasMoreData=!0),!!this.hasMoreData){var t={BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,ATCH_FILE_USE_YN:this.ATCH_FILE_USE_YN,PRVT_USE_YN:this.PRVT_USE_YN,NowSearchKeyWord:this.cNowSearchKeyWord,startIndex:this.startIndex,limit:this.getItemsPerAction};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardListInfo",t,{headers:{}}).then(i=>{if(i.data.ResultCd==="00"){let a=i.data.Result.length;if(a==0){this.hasMoreData=!1;return}this.totalCount=i.data.TotalCount;const l={};i.data.Result.forEach(d=>{l[d.UP_PST_ID]||(l[d.UP_PST_ID]=[]),l[d.UP_PST_ID].push(d)});const s=[];if(i.data.Result.forEach(d=>{d.PST_ID===d.UP_PST_ID&&(s.push(d),l[d.PST_ID]&&s.push(...l[d.PST_ID].filter(c=>c.PST_ID!==c.UP_PST_ID).sort(function(c,u){return c.PST_DEPTH-u.PST_DEPTH})))}),s.forEach((d,c)=>{d.iIndex=this.totalCount-(this.startIndex+c),d.is_file=b(d.ATCH_FILE_YN),d.cShowCreateDateTime=x(d.CRT_DT),d.bNotice=!1,this.zData.push(d)}),this.startIndex+=a,this.startIndex>=this.totalCount&&(this.hasMoreData=!1),this.NTC_USE_YN=="Y"){let d=this.zData.filter(c=>c.NTC_YN=="Y");for(let c=d.length-1;c>=0;c--){let u={...d[c]};u.bNotice=!0,this.zData.unshift(u)}}if(this.SHOW_PST_ID!=""){let d=this.zData.findIndex(c=>c.PST_ID==this.SHOW_PST_ID);this.OpenDetaillDialog(d)}}else S.$emit("onShowMsg",{cSubTitle:"게시글 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(i=>{S.$emit("onShowMsg",{cSubTitle:"게시글 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})}},async ClickIconDirect(e,t){e.stopPropagation();var i={SITE_ID:"1034",BOARDLIST_ID:this.BOARDLIST_ID,PST_ID:t.PST_ID};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardListFileInfo",i,{headers:{}}).then(a=>{a.data.ResultCd==="00"?this.DownloadFile(a.data.Result[0]):S.$emit("onShowMsg",{cSubTitle:"게시글 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(a=>{S.$emit("onShowMsg",{cSubTitle:"게시글 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})},DownloadFile(e){C({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl="+e.FILE_PATH,method:"GET",responseType:"blob"}).then(t=>{const i=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",e.FILE_NM),document.body.appendChild(a),a.click()})},handleRowClick(e,{item:t}){this.OpenDetaillDialog(this.zData.indexOf(t))},async ShowBoardDetailDialog(e,t){this.oEditItem={...this.oDefaultEditItem};var i=await this.GetDynamicBoardListItemInfo(this.zData[e],t);if(i.data.ResultCd=="44"){S.$emit("onTokenExpired");return}i.data.ResultCd=="00"?i.data.Result1.length==0?S.$emit("onShowMsg",{cSubTitle:"조회된 정보가 없습니다.",cTitle:"게시글이 삭제되었을 수 있습니다. 화면을 새로 고침 해주세요."}):(this.iEditIndex=e,this.$refs.M4_AuthMember_ref.CancelAuth(),this.zData.filter(a=>a.PST_ID==this.zData[e].PST_ID).forEach(a=>a.INQ_CNT=i.data.Result1[0].INQ_CNT),this.oEditItem.PST_ID=this.zData[e].PST_ID,this.oEditItem.CRT_USER_ID=i.data.Result1[0].CRT_USER_ID,this.oEditItem.PST_TTL=i.data.Result1[0].PST_TTL,this.oEditItem.PST_CN=i.data.Result1[0].PST_CN,this.oEditItem.PSWD="!!!!!!",this.oEditItem.bSecret=b(i.data.Result1[0].PRVT_YN),this.oEditItem.INQ_CNT=i.data.Result1[0].INQ_CNT,this.oEditItem.COPYRIGHT_YN=i.data.Result1[0].COPYRIGHT_YN=="Y",this.oEditItem.COPYRIGHT_TYPE=i.data.Result1[0].COPYRIGHT_TYPE,i.data.Result2.length>0&&(this.oEditItem.FILE_ID=i.data.Result2[0].FILE_ID,this.oEditItem.FILE_NM=i.data.Result2[0].FILE_NM,this.oEditItem.FILE_PATH=i.data.Result2[0].FILE_PATH),i.data.Result3.forEach(a=>{a.cShowCreateDateTime=x(a.CRT_DT)}),this.$refs.M4_ShowDetailDialog_ref.ShowDialog({PST_ID:this.oEditItem.PST_ID,SelectIndex:this.iEditIndex,FT_CD:"",TEXT:"",PST_TTL:this.oEditItem.PST_TTL,INQ_CNT:this.oEditItem.INQ_CNT,CRT_USER_ID:this.oEditItem.CRT_USER_ID,PST_CN:this.oEditItem.PST_CN,COPYRIGHT_YN:this.oEditItem.COPYRIGHT_YN,COPYRIGHT_TYPE:this.oEditItem.COPYRIGHT_TYPE},i.data.Result2,i.data.Result3)):S.$emit("onShowMsg",{cSubTitle:"상세 보기 중 문제가 발생했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다."})},async ShowSecretDetailDialog(e){var t=await this.CheckPasswordForBoard(this.zData[this.iCheckIndex].PST_ID,this.zData[this.iCheckIndex].CRT_USER_ID,e.PSWD,this.BOARD_TABLE_NM);t.data.ResultCd=="00"?this.ShowBoardDetailDialog(this.iCheckIndex,t.data.Data):S.$emit("onShowMsg",{cSubTitle:"비밀번호 인증에 실패했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다."})},GetDynamicBoardListItemInfo(e,t){var i={SITE_ID:"1034",PST_ID:e.PST_ID,BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,CMNT_TABLE_NM:this.CMNT_TABLE_NM,CRT_USER_ID:e.CRT_USER_ID,PRVT_YN:b(e.PRVT_YN),ATCH_FILE_USE_YN:this.ATCH_FILE_USE_YN,CMNT_USE_YN:this.CMNT_USE_YN,PRVT_USE_YN:this.PRVT_USE_YN,Token:t};return new Promise(a=>C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardListItemInfo",i,{}).then(l=>{a(l)}).catch(l=>{a({data:{ResultCd:"98",Msg:l}})}))},ShowDialog(){this.bDialog=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.oEditItem={...this.oDefaultEditItem},this.onClear()},UpdateData(e){this.oEditItem.PST_CN=e},onClear(){this.NowSelFile=null,this.oEditItem.FILE_ID="NONE",this.oEditItem.FILE_NM=""},GetFile(){if(this.NowSelFile){S.$emit("onShowMsg",{cSubTitle:"파일을 선택 할 수 없습니다.",cTitle:"파일은 최대 1개 까지만 가능합니다.",cMsg:""});return}this.$refs.fileInput.click()},onFileSelected(e){this.NowSelFile=e.target.files[0],this.oEditItem.FILE_NM=this.NowSelFile.name},bSendSvrFile(){var e=new Date,t=e.getFullYear(),i=this.NowSelFile.name,a=$e(i).toUpperCase(),l=Ue(Ve(this.NowSelFile.type));let s=new FormData;return s.append("uploadfilenor",this.NowSelFile),new Promise(d=>C.post("https://test1-fire.seoul.go.kr/cmsapi/UploadFileNorNew?PublicFile=Y&Year="+t+"&FileNm="+i+"&Extend="+a+"&MimeType="+this.NowSelFile.type+"&Size="+this.NowSelFile.size+"&FileTypeId="+l,s,{headers:{"Content-Type":"multipart/form-data"}}).then(c=>{d(c)}).catch(c=>{d(null),S.$emit("onShowMsg",{cSubTitle:"파일저장에 실패하였습니다.",cTitle:"관리자에게 문의 바랍니다."})}))},async SetDynamicBoardListInfo(){this.oEditItem.PST_CN=this.$refs.FroalaEditor.editor.html.get();var e=!1,t="";if(this.oEditItem.PST_TTL=this.oEditItem.PST_TTL.trim(),this.oEditItem.PST_CN=this.oEditItem.PST_CN.trim(),this.oEditItem.PST_CN=this.oEditItem.PST_CN.replaceAll("&nbsp;","&nbsp"),this.oEditItem.CRT_USER_ID=this.oEditItem.CRT_USER_ID.trim(),this.oEditItem.PSWD=this.oEditItem.PSWD.trim(),!e&&this.oEditItem.CRT_USER_ID==""&&(t="아이디는 필수입력사항입니다.",e=!0),!e&&this.oEditItem.PSWD==""&&(t="비밀번호는 필수입력사항입니다. 글 수정 및 삭제시 필요합니다.",e=!0),!e&&this.oEditItem.PST_TTL==""&&(t="제목은 필수입력사항입니다.",e=!0),!e&&this.oEditItem.PST_CN=="<p><br></p>"&&(t="내용을 입력하세요",e=!0),e){S.$emit("onShowMsg",{cSubTitle:"누락된 정보가 있습니다.",cTitle:t,cMsg:""});return}if(this.NowSelFile&&this.oEditItem.FILE_ID=="NONE"){var i=await this.bSendSvrFile();if(i.data.ResultCd=="00")this.oEditItem.FILE_ID=i.data.FileId,this.oEditItem.FILE_NM=i.data.FileNm,this.oEditItem.FILE_PATH=i.data.Path;else{S.$emit("onShowMsg",{cSubTitle:"파일 저장에 실패하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."});return}}var a={PST_ID:this.oEditItem.PST_ID,PST_CN:this.oEditItem.PST_CN,PST_TTL:this.oEditItem.PST_TTL,CRT_USER_ID:this.oEditItem.CRT_USER_ID,PSWD:W(this.oEditItem.PSWD),PRVT_YN:Ge(this.oEditItem.bSecret),FILE_ID:this.oEditItem.FILE_ID,ATCH_FILE_YN:this.oEditItem.FILE_ID=="NONE"?"N":"Y",Token:this.oEditItem.Token,NMBR_WRT_YN:this.NMBR_WRT_YN,ATCH_FILE_USE_YN:this.ATCH_FILE_USE_YN,PRVT_USE_YN:this.PRVT_USE_YN,BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,SITE_ID:"1034"};C.post("https://test1-fire.seoul.go.kr/cmsapi/SetDynamicBoardListInfo",a,{headers:{}}).then(l=>{if(l.data.ResultCd==="00"){if(this.oEditItem.PST_ID==""){let d=this.zData.findIndex(c=>!c.bNotice);var s={PST_ID:l.data.Result[0].PST_ID,UP_PST_ID:l.data.Result[0].PST_ID,PST_TTL:a.PST_TTL,CRT_USER_ID:a.CRT_USER_ID,CRT_DT:l.data.Result[0].CRT_DT,INQ_CNT:0,iIndex:d==-1?this.zData.length+1:this.zData.length+1-d,cShowCreateDateTime:x(l.data.Result[0].CRT_DT)};this.ATCH_FILE_USE_YN&&(s.ATCH_FILE_YN=a.ATCH_FILE_YN),s.is_file=b(s.ATCH_FILE_YN),this.PRVT_USE_YN&&(s.PRVT_YN=a.PRVT_YN),d==-1?this.zData.unshift(s):this.zData.splice(d,0,s)}else this.zData[this.iEditIndex].PST_TTL=a.PST_TTL,this.ATCH_FILE_USE_YN&&(this.zData[this.iEditIndex].ATCH_FILE_YN=a.ATCH_FILE_YN),this.zData[this.iEditIndex].is_file=b(this.zData[this.iEditIndex].ATCH_FILE_YN),this.PRVT_USE_YN&&(this.zData[this.iEditIndex].PRVT_YN=a.PRVT_YN);this.iEditIndex=-1,this.DialogClose(),this.oEditItem={...this.oDefaultEditItem}}else S.$emit("onShowMsg",{cSubTitle:"게시판 등록 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(l=>{S.$emit("onShowMsg",{cSubTitle:"게시판 등록 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})},OpenDetaillDialog(e){this.iCheckIndex=e,this.zData[e].PRVT_YN=="Y"?this.$refs.M4_AuthMember_ref.ShowAuthDialog():this.ShowBoardDetailDialog(e,"")},async ShowEditDialogAfterCheckAuth(e,t){var i=await this.CheckPasswordForBoard(this.zData[t].PST_ID,this.zData[t].CRT_USER_ID,e,this.BOARD_TABLE_NM);i.data.ResultCd=="00"?(this.$refs.M4_ShowDetailDialog_ref.CloseDialog(),this.$refs.M4_ShowDetailDialog_ref.CloseAuthDialog(),this.bDialog=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement,this.oEditItem.Token=i.data.Data,setTimeout(()=>{this.$refs.FroalaEditor.refresh(this.oEditItem.PST_CN)},300)):S.$emit("onShowMsg",{cSubTitle:"비밀번호 인증에 실패했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다."})},async DelBoardAfterCheckAuth(e,t){var i=await this.CheckPasswordForBoard(this.zData[t].PST_ID,this.zData[t].CRT_USER_ID,e,this.BOARD_TABLE_NM);i.data.ResultCd=="00"?this.DelDynamicBoardListInfo(t,i.data.Data):S.$emit("onShowMsg",{cSubTitle:"비밀번호 인증에 실패했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다."})},DelDynamicBoardListInfo(e,t){var i={SITE_ID:"1034",BOARDLIST_ID:this.BOARDLIST_ID,BOARD_TABLE_NM:this.BOARD_TABLE_NM,CMNT_TABLE_NM:this.CMNT_TABLE_NM,PST_ID:this.zData[e].PST_ID,CRT_USER_ID:this.zData[e].CRT_USER_ID,ATCH_FILE_USE_YN:this.ATCH_FILE_USE_YN,CMNT_USE_YN:this.CMNT_USE_YN,Token:t};C.post("https://test1-fire.seoul.go.kr/cmsapi/DelDynamicBoardListInfo",i,{headers:{}}).then(a=>{if(a.data.ResultCd==="00"){this.zData.splice(e,1),this.$refs.M4_ShowDetailDialog_ref.CloseAuthDialog(),this.$refs.M4_ShowDetailDialog_ref.CloseDialog();let l=this.zData.length;this.zData.forEach((s,d)=>{s.iIndex=l-d})}else S.$emit("onShowMsg",{cSubTitle:"게시판 삭제 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(a=>{S.$emit("onShowMsg",{cSubTitle:"게시판 삭제 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})},SetDynamicBoardReplyInfo(e,t){var i={BOARDLIST_ID:this.BOARDLIST_ID,CMNT_TABLE_NM:this.CMNT_TABLE_NM,PST_ID:this.zData[t].PST_ID,CMNT_CN:e.CMNT_CN,PSWD:W(e.PSWD),CRT_USER_ID:e.CRT_USER_ID};C.post("https://test1-fire.seoul.go.kr/cmsapi/SetDynamicBoardReplyInfo",i,{headers:{}}).then(a=>{a.data.ResultCd==="00"?this.$refs.M4_ShowDetailDialog_ref.AddReply({CMNT_CN:i.CMNT_CN,CRT_USER_ID:i.CRT_USER_ID,PST_ID:i.PST_ID,CMNT_SEQ:a.data.Result[0].CMNT_SEQ,CRT_DT:a.data.Result[0].CRT_DT,cShowCreateDateTime:x(a.data.Result[0].CRT_DT)}):S.$emit("onShowMsg",{cSubTitle:"게시글에 대한 댓글 작성 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(a=>{S.$emit("onShowMsg",{cSubTitle:"게시글에 대한 댓글 작성 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})},async DelReplyAfterCheckAuth(e,t,i,a){var l=await this.CheckPasswordForReply(e,t,i,a,this.CMNT_TABLE_NM);l.data.ResultCd=="00"?this.DelDynamicBoardReplyInfo(e,t,i,l.data.Data):S.$emit("onShowMsg",{cSubTitle:"비밀번호 인증에 실패했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다."})},DelDynamicBoardReplyInfo(e,t,i,a){var l={SITE_ID:"1034",BOARDLIST_ID:this.BOARDLIST_ID,CMNT_TABLE_NM:this.CMNT_TABLE_NM,PST_ID:e,CRT_USER_ID:i,CMNT_SEQ:t,Token:a};C.post("https://test1-fire.seoul.go.kr/cmsapi/DelDynamicBoardReplyInfo",l,{headers:{}}).then(s=>{s.data.ResultCd==="00"?this.$refs.M4_ShowDetailDialog_ref.DelReply():S.$emit("onShowMsg",{cSubTitle:"게시판 댓글 삭제 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).catch(s=>{S.$emit("onShowMsg",{cSubTitle:"게시판 댓글 삭제 중 문제가 발생하였습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다."})}).finally(()=>{})},CheckPasswordForBoard(e,t,i,a){var l={SITE_ID:"1034",BOARD_TABLE_NM:a,BOARDLIST_ID:this.BOARDLIST_ID,PSWD:W(i),PST_ID:e,CRT_USER_ID:t};return new Promise(s=>C.post("https://test1-fire.seoul.go.kr/cmsapi/CheckPasswordForBoard",l,{}).then(d=>{s(d)}).catch(d=>{s({data:{ResultCd:"98",Msg:d}})}))},CheckPasswordForReply(e,t,i,a,l){var s={SITE_ID:"1034",BOARD_TABLE_NM:l,BOARDLIST_ID:this.BOARDLIST_ID,PSWD:W(a),PST_ID:e,CMNT_SEQ:t,CRT_USER_ID:i};return new Promise(d=>C.post("https://test1-fire.seoul.go.kr/cmsapi/CheckPasswordForReply",s,{}).then(c=>{d(c)}).catch(c=>{d({data:{ResultCd:"98",Msg:c}})}))}}},bi=e=>(de("data-v-e4bd4f7a"),e=e(),he(),e),wi={key:0,class:"d-flex title-xxlarge"},Pi={class:"mt-2 pa-3"},Ei={class:"nor_table_center"},Mi={id:"table-caption",class:"sr-only"},Ai=["onClick"],Bi={key:0,style:{"border-radius":"5px","background-color":"rgb(76,175,80)",color:"white",width:"45px"}},ki={key:1},Oi=["onClick","onKeydown","title"],vi={key:0},Fi=["onClick","onKeyup"],Li={class:"d-flex"},xi={class:"title-xxlarge"},Yi={style:{"max-height":"80vh",overflow:"auto"}},$i=bi(()=>o("div",null,"※ 글 수정 및 삭제시 필요합니다.",-1)),Ui={class:"d-flex flex-wrap mt-4"};function Vi(e,t,i,a,l,s){const d=U,c=z("Editor"),u=ue,D=gi;return h(),T("div",null,[i.bShowBoardTitle?(h(),T("h1",wi,[m(r(l.BOARD_NM)+" ",1),n(B),l.NMBR_WRT_YN?(h(),R(g,{key:0,onClick:t[0]||(t[0]=I=>s.ShowDialog()),title:""},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-pencil")]),_:1}),m(r(e.$t("all_btn_write")),1)]),_:1})):f("",!0)])):f("",!0),o("div",Pi,[n(F,null,{default:_(()=>[n(y,null,{default:_(()=>[n(d,{modelValue:l.cNowSearchKeyWord,"onUpdate:modelValue":t[1]||(t[1]=I=>l.cNowSearchKeyWord=I),icon:"mdi-magnify",onKeyup:t[2]||(t[2]=w(I=>s.GetDynamicBoardListInfo(),["enter"])),"onClick:appendInner":t[3]||(t[3]=I=>s.GetDynamicBoardListInfo()),label:e.$t("common_search"),placeholder:e.$t("req_policy_placeholder")},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),n(j,{headers:l.headers,items:l.zData,"onClick:row":s.handleRowClick,page:l.pagination.page,"onUpdate:page":[t[4]||(t[4]=I=>l.pagination.page=I),s.handlePageChange],"items-per-page":l.pagination.itemsPerPage,"onUpdate:itemsPerPage":t[5]||(t[5]=I=>l.pagination.itemsPerPage=I),"item-key":"PST_ID",class:"nor_table_center","aria-labelledby":"table-caption"},{default:_(I=>[o("table",Ei,[o("caption",Mi,r(l.BOARD_NM)+" 게시판",1),o("thead",null,[o("tr",null,[(h(!0),T(E,null,M(I.headers[0],N=>(h(),T("th",{key:N.value,scope:"col"},r(N.title),1))),128))])]),o("tbody",null,[(h(!0),T(E,null,M(I.items,N=>(h(),T("tr",{key:N.PST_ID,onClick:A=>s.handleRowClick(null,{item:N})},[o("td",null,[N.bNotice?(h(),T("div",Bi,"공지")):(h(),T("div",ki,r(N.iIndex),1))]),o("td",null,[o("button",{class:"d-flex line_clamp_1",tabindex:"0",style:se(["margin-left : "+N.PST_DEPTH*20+"px",{cursor:"pointer"}]),onClick:A=>s.handleRowClick(null,{item:N}),onKeydown:w(A=>s.handleRowClick(null,{item:N}),["enter"]),title:N.PST_TTL+"열기"},[N.PST_ID!=N.UP_PST_ID?(h(),R(p,{key:0,"aria-hidden":"true",style:{"margin-top":"1px"},size:"15"},{default:_(()=>[m("mdi-arrow-right-bottom-bold")]),_:1})):f("",!0),N.PRVT_YN=="Y"?(h(),R(p,{key:1,"aria-hidden":"true"},{default:_(()=>[m("mdi-lock")]),_:1})):f("",!0),m(" "+r(N.PST_TTL),1)],44,Oi)]),l.ATCH_FILE_USE_YN?(h(),T("td",vi,[N.is_file?(h(),T("div",{key:0,onClick:A=>s.ClickIconDirect(A,N),onKeyup:w(A=>s.ClickIconDirect(A,N),["enter"]),role:"button",tabindex:"0",title:"첨부 파일 다운로드"},[n(p,{"aria-hidden":"true"},{default:_(()=>[m("mdi-file")]),_:1})],40,Fi)):f("",!0)])):f("",!0),o("td",null,r(N.CRT_USER_ID),1),o("td",null,r(N.cShowCreateDateTime),1),o("td",null,r(N.INQ_CNT),1)],8,Ai))),128))])])]),_:1},8,["headers","items","onClick:row","page","items-per-page","onUpdate:page"])]),n(L,{modelValue:l.bDialog,"onUpdate:modelValue":[t[16]||(t[16]=I=>l.bDialog=I),s.DialogClose],width:"60%","aria-modal":"true"},{default:_(()=>[n(k,{class:"pa-4 pl-6 pr-6"},{default:_(()=>[o("div",Li,[o("h1",xi,r(s.sFormatTitle),1),n(B),n(g,{variant:"plain",class:"mt-n1 mr-n3",icon:"",onClick:s.DialogClose,"aria-label":"닫기"},{default:_(()=>[n(p,{"aria-hidden":"true"},{default:_(()=>[m("mdi-close")]),_:1})]),_:1},8,["onClick"])]),o("div",Yi,[n(F,{class:"ma-0"},{default:_(()=>[n(y,{cols:"12",md:"4",sm:"12"},{default:_(()=>[n(d,{modelValue:l.oEditItem.CRT_USER_ID,"onUpdate:modelValue":t[6]||(t[6]=I=>l.oEditItem.CRT_USER_ID=I),disabled:l.oEditItem.PST_ID!="",label:e.$t("all_table_header_5")+"(*)"},null,8,["modelValue","disabled","label"])]),_:1}),n(y,{cols:"12",md:"4",sm:"12"},{default:_(()=>[n(d,{iconTitle:l.bShow1?"비밀번호 감추기":"비밀번호 보기",modelValue:l.oEditItem.PSWD,"onUpdate:modelValue":t[7]||(t[7]=I=>l.oEditItem.PSWD=I),disabled:l.oEditItem.PST_ID!="",label:e.$t("all_table_header_9")+"(*)","onClick:appendInner":t[8]||(t[8]=I=>l.bShow1=!l.bShow1),class:v({test_password_style:!l.bShow1}),icon:s.sAppendIcon1},null,8,["iconTitle","modelValue","disabled","label","class","icon"]),$i]),_:1}),n(y,{cols:"12",md:"4",sm:"12"},{default:_(()=>[l.PRVT_USE_YN?(h(),R(Ci,{key:0,modelValue:l.oEditItem.bSecret,"onUpdate:modelValue":t[9]||(t[9]=I=>l.oEditItem.bSecret=I),label:e.$t("req_policy_header_2"),color:"black",density:"compact","hide-details":""},null,8,["modelValue","label"])):f("",!0)]),_:1}),n(y,{cols:"12"},{default:_(()=>[n(d,{modelValue:l.oEditItem.PST_TTL,"onUpdate:modelValue":t[10]||(t[10]=I=>l.oEditItem.PST_TTL=I),label:e.$t("all_table_header_4")+"(*)"},null,8,["modelValue","label"])]),_:1}),n(y,{cols:"12"},{default:_(()=>[n(c,{ref:"FroalaEditor",modelValue:l.oEditItem.PST_CN,"onUpdate:modelValue":t[11]||(t[11]=I=>l.oEditItem.PST_CN=I),onUpdateData:s.UpdateData},null,8,["modelValue","onUpdateData"])]),_:1}),n(y,{style:se(l.ATCH_FILE_USE_YN?"":"display: none !important;"),cols:"12",md:"12",sm:"12"},{default:_(()=>[n(d,{modelValue:l.oEditItem.FILE_NM,"onUpdate:modelValue":t[12]||(t[12]=I=>l.oEditItem.FILE_NM=I),label:e.$t("all_dialog_item_1"),"onClick:clear":s.onClear,clearable:"",readonly:""},null,8,["modelValue","label","onClick:clear"])]),_:1},8,["style"])]),_:1})]),o("div",Ui,[l.ATCH_FILE_USE_YN?(h(),T("input",{key:0,type:"file",ref:"fileInput",style:{display:"none"},multiple:"",onChange:t[13]||(t[13]=(...I)=>s.onFileSelected&&s.onFileSelected(...I))},null,544)):f("",!0),l.ATCH_FILE_USE_YN?(h(),R(g,{key:1,onClick:t[14]||(t[14]=I=>s.GetFile()),class:"mr-2 mb-1",style:{"min-width":"100px"},"aria-label":"파일 첨부"},{default:_(()=>[m(r(e.$t("all_btn_add_file")),1),n(p,{"aria-hidden":"true",class:"ml-1"},{default:_(()=>[m("mdi-paperclip")]),_:1})]),_:1})):f("",!0),n(B),n(g,{onClick:t[15]||(t[15]=I=>s.SetDynamicBoardListInfo()),class:"mb-1",color:"primary",width:"100","aria-label":"저장"},{default:_(()=>[m(r(e.$t("all_btn_save")),1),n(p,{"aria-hidden":"true",class:"ml-1"},{default:_(()=>[m("mdi-upload")]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),n(u,{onGoauth:s.ShowSecretDetailDialog,ref:"M4_AuthMember_ref"},null,8,["onGoauth"]),n(D,{caption:l.BOARD_NM,iWidth:"60%",bDisablePreBtn:s.bDisablePreBtn,bDisableNextBtn:s.bDisableNextBtn,bShowEditBtn:l.NMBR_WRT_YN,bShowDelBtn:l.NMBR_WRT_YN,bShowReplyUX:l.CMNT_USE_YN,bShowFileUX:l.ATCH_FILE_USE_YN,onChangeBoardDetail:s.OpenDetaillDialog,onShowEditDialogAfterCheckAuth:s.ShowEditDialogAfterCheckAuth,onDelBoardAfterCheckAuth:s.DelBoardAfterCheckAuth,onSetReply:s.SetDynamicBoardReplyInfo,onDelReplyAfterCheckAuth:s.DelReplyAfterCheckAuth,ref:"M4_ShowDetailDialog_ref"},null,8,["caption","bDisablePreBtn","bDisableNextBtn","bShowEditBtn","bShowDelBtn","bShowReplyUX","bShowFileUX","onChangeBoardDetail","onShowEditDialogAfterCheckAuth","onDelBoardAfterCheckAuth","onSetReply","onDelReplyAfterCheckAuth"])])}const Gi=P(yi,[["render",Vi],["__scopeId","data-v-e4bd4f7a"]]),Hi={props:["bShowPageTitle"],data(){return{PAGE_NM:"",HTML_DATA:"",COPYRIGHT_YN:!1,COPYRIGHT_TYPE:"",zCopyRightText:[{cType:"A",cText:"공공누리 제1유형: 출처표시"},{cType:"B",cText:"공공누리 제2유형: 출처표시+상업적 이용금지"},{cType:"C",cText:"공공누리 제3유형: 출처표시+변경금지"},{cType:"D",cText:"공공누리 제4유형: 출처표시+상업적 이용금지+변경금지"},{cType:"E",cText:"공공누리 만료 공공저작물"}]}},components:{EditorRead:J},computed:{cCopyRightImgPath(){return"/boramae/contents/copyright/copyright_"+this.COPYRIGHT_TYPE+".jpg"},cCopyRightText(){var e;return(e=this.zCopyRightText.filter(t=>t.cType==this.COPYRIGHT_TYPE)[0])==null?void 0:e.cText}},methods:{GetDynamicPageInfo(e,t){var i={SITE_ID:"1034",MENU_ID:e,PAGE_ID:t,National:this.$i18n.locale};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicPageInfo",i,{}).then(a=>{a.data.ResultCd==="00"?(this.$store.commit("SetShowShareSNSBtn",b(a.data.Result[0].SNS_YN)),this.PAGE_NM=a.data.Result[0].PAGE_NM,this.HTML_DATA=a.data.Result[0].HTML_DATA,this.COPYRIGHT_TYPE=a.data.Result[0].COPYRIGHT_TYPE,this.COPYRIGHT_YN=a.data.Result[0].COPYRIGHT_YN=="Y",this.$nextTick(()=>{this.$refs.QuillEditorReadRef.refresh(this.HTML_DATA)})):this.$emit("ShowNoPage")}).catch(()=>{this.$emit("ShowNoPage")})}}},Wi={key:0,class:"title-xxlarge"},zi={key:1,style:{width:"100%"},class:"d-flex align-start justify-start"},Ki={class:"detail-medium detail-text-color ml-3",style:{"margin-top":"40px"}};function qi(e,t,i,a,l,s){const d=z("EditorRead");return h(),T("div",null,[i.bShowPageTitle?(h(),T("h1",Wi,r(l.PAGE_NM),1)):f("",!0),n(d,{ref:"QuillEditorReadRef",class:"ql-editor mt-4",modelValue:l.HTML_DATA,"onUpdate:modelValue":t[0]||(t[0]=c=>l.HTML_DATA=c)},null,8,["modelValue"]),l.COPYRIGHT_YN?(h(),T("div",zi,[n(Y,{src:s.cCopyRightImgPath,"max-width":"200px","aspect-ratio":16/9,alt:"저작권 유형 이미지"},null,8,["src"]),o("div",Ki,r(s.cCopyRightText),1)])):f("",!0)])}const Qi=P(Hi,[["render",qi]]),Xi={data(){return{}},computed:{sNoShowMsg(){return this.$i18n.locale=="ko"?"페이지를 찾을 수 없습니다":"Cann't find Page"}},components:{},mounted(){},beforeUnmount(){},methods:{}},ji={class:"title-xxlarge"};function Ji(e,t,i,a,l,s){return h(),T("div",null,[o("h1",ji,r(s.sNoShowMsg),1)])}const Z=P(Xi,[["render",Ji]]),Zi={props:["bShowPageTitle","bShowBoardTitle","bShowFormTitle"],data(){return{bShowPage:!1,bShowList:!1,bShowVideo:!1,bShowGallery:!1,bShowForm:!1,bNoPage:!1,DGSTFN_EXMN_YN:!1,MNG_DEPT_NM:"",MNG_DEPT_TELNO:"",CONTS_ID:""}},computed:{},mounted(){},methods:{initData(){this.bShowPage=!1,this.bShowForm=!1,this.bShowList=!1,this.bShowVideo=!1,this.bShowGallery=!1,this.bNoPage=!1,this.DGSTFN_EXMN_YN=!1,this.MNG_DEPT_NM="",this.MNG_DEPT_TELNO="",this.CONTS_ID=""},ShowDynamicBoardListDialog(){this.$refs.M4_Dynamic_Board_List_ref.ShowDialog()},ShowNoPage(){this.bNoPage=!0},SortDisplayType(e,t,i,a,l){this.initData(),l=="P"?this.GetDynamicPageOutLine(e,t):l=="F"?this.GetDynamicFormOutLine(e,a):this.GetDynamicBoardOutLine(e,i)},GetDynamicPageOutLine(e,t){var i={SITE_ID:"1034",MENU_ID:e,PAGE_ID:t};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicPageOutLine",i,{}).then(a=>{if(a.data.ResultCd==="00"){if(a.data.Result.length==0){this.ShowNoPage();return}this.$store.commit("SetShowShareSNSBtn",b(a.data.Result[0].SNS_YN)),this.DGSTFN_EXMN_YN=b(a.data.Result[0].DGSTFN_EXMN_YN),this.MNG_DEPT_NM=a.data.Result[0].MNG_DEPT_NM,this.MNG_DEPT_TELNO=a.data.Result[0].MNG_DEPT_TELNO,this.CONTS_ID=a.data.Result[0].CONTS_ID,this.bShowPage=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Page_ref.GetDynamicPageInfo(e,t)})}else this.ShowNoPage()}).catch(a=>{this.ShowNoPage(),console.log("GetPageInfo : Error !",a)})},GetDynamicFormOutLine(e,t){var i={SITE_ID:"1034",MENU_ID:e,FORM_TYPE:t};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicFormOutLine",i,{}).then(a=>{if(a.data.ResultCd==="00"){if(a.data.Result.length==0){this.ShowNoPage();return}this.$store.commit("SetShowShareSNSBtn",b(a.data.Result[0].SNS_YN)),this.DGSTFN_EXMN_YN=b(a.data.Result[0].DGSTFN_EXMN_YN),this.MNG_DEPT_NM=a.data.Result[0].MNG_DEPT_NM,this.MNG_DEPT_TELNO=a.data.Result[0].MNG_DEPT_TELNO,this.CONTS_ID=a.data.Result[0].CONTS_ID,this.bShowForm=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Form_ref.GetDynamicFormInfo(e,t,a.data.Result[0].CONTS_NM)})}else this.ShowNoPage()}).catch(a=>{this.ShowNoPage(),console.log("GetPageInfo : Error !",a)})},GetDynamicBoardOutLine(e,t){var i={SITE_ID:"1034",MENU_ID:e,BOARDLIST_ID:t};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicBoardOutLine",i,{}).then(a=>{if(a.data.ResultCd==="00"){if(a.data.Result.length==0){this.ShowNoPage();return}this.$store.commit("SetShowShareSNSBtn",b(a.data.Result[0].SNS_YN)),this.$emit("ShowEditBtn_ContentPage",a.data.Result[0].NMBR_WRT_YN),this.DGSTFN_EXMN_YN=b(a.data.Result[0].DGSTFN_EXMN_YN),this.MNG_DEPT_NM=a.data.Result[0].MNG_DEPT_NM,this.MNG_DEPT_TELNO=a.data.Result[0].MNG_DEPT_TELNO,this.CONTS_ID=a.data.Result[0].CONTS_ID,a.data.Result[0].BOARD_TYPE=="L"?(this.bShowList=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Board_List_ref.InitDynamicBoardListInfo(a.data.Result)})):a.data.Result[0].BOARD_TYPE=="V"?(this.bShowVideo=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Board_Video_ref.InitDynamicBoardVideoInfo(a.data.Result)})):(this.bShowGallery=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Board_Gallery_ref.InitDynamicBoardGalleryInfo(a.data.Result)}))}else this.ShowNoPage()}).catch(a=>{this.ShowNoPage(),console.log("GetPageInfo : Error !",a)})}}},eo=o("div",{class:"bg-gap"},null,-1);function to(e,t,i,a,l,s){const d=Z,c=Qi,u=Gi,D=$l,I=Il,N=el,A=st;return h(),T("div",null,[l.bNoPage?(h(),R(d,{key:0})):f("",!0),l.bShowPage?(h(),R(c,{key:1,bShowPageTitle:i.bShowPageTitle,onShowNoPage:s.ShowNoPage,ref:"M4_Dynamic_Page_ref"},null,8,["bShowPageTitle","onShowNoPage"])):f("",!0),l.bShowList?(h(),R(u,{key:2,bShowBoardTitle:i.bShowBoardTitle,ref:"M4_Dynamic_Board_List_ref"},null,8,["bShowBoardTitle"])):f("",!0),l.bShowVideo?(h(),R(D,{key:3,bShowBoardTitle:i.bShowBoardTitle,ref:"M4_Dynamic_Board_Video_ref"},null,8,["bShowBoardTitle"])):f("",!0),l.bShowGallery?(h(),R(I,{key:4,bShowBoardTitle:i.bShowBoardTitle,ref:"M4_Dynamic_Board_Gallery_ref"},null,8,["bShowBoardTitle"])):f("",!0),l.bShowForm?(h(),R(N,{key:5,bShowFormTitle:i.bShowFormTitle,ref:"M4_Dynamic_Form_ref"},null,8,["bShowFormTitle"])):f("",!0),eo,l.DGSTFN_EXMN_YN?(h(),R(A,{key:6,MNG_DEPT_NM:l.MNG_DEPT_NM,MNG_DEPT_TELNO:l.MNG_DEPT_TELNO,CONTS_ID:l.CONTS_ID,ref:"M4_Satisfaction_ref"},null,8,["MNG_DEPT_NM","MNG_DEPT_TELNO","CONTS_ID"])):f("",!0)])}const me=P(Zi,[["render",to]]),lo={data(){return{BOARD_NM:"",PATH:"",MENU_ID:"",iTab:0,bShowContents:!1,bNoPage:!1,NMBR_WRT_YN:!1,zTab:[]}},mounted(){},methods:{moveTab(e,t){let i=e+t;i<0?i=this.zTab.length-1:i>=this.zTab.length&&(i=0);const a=this.zTab[i];this.ChangeContents(a,i,!1),this.$nextTick(()=>{this.$el.querySelectorAll("[role='tab']")[i].focus()})},ShowEditBtn(e){this.NMBR_WRT_YN=b(e)},ShowEditDialog(){this.$refs.M4_Dynamic_NoContents_ref.ShowDynamicBoardListDialog()},initData(){this.bShowContents=!1,this.bNoPage=!1},ShowNoPage(){this.bNoPage=!0},SortDisplayType(e,t,i){this.initData(),this.BOARD_NM=t,this.PATH=i,this.GetDynamicContentTabList(e)},GetDynamicContentTabList(e){this.zTab=[],this.MENU_ID=e;var t={SITE_ID:"1034",MENU_ID:e};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetDynamicContentTabList",t,{}).then(i=>{if(i.data.ResultCd==="00"){if(i.data.Result.length==0)return;for(let a=0;a<i.data.Result.length;a++)this.zTab.push(i.data.Result[a]);this.bShowContents=!0,this.$nextTick(()=>{this.ChangeContents(i.data.Result[0],0,!0)})}else this.ShowNoPage()}).catch(i=>{this.ShowNoPage(),console.log("GetPageInfo : Error !",i)})},ChangeContents(e,t,i){i||this.$store.commit("SetEnterContent",{cPath:this.PATH,iIndex:t}),this.iTab=t,this.$refs.M4_Dynamic_NoContents_ref.SortDisplayType(this.MENU_ID,e.PAGE_ID,e.BOARDLIST_ID,e.FORM_TYPE,e.CONTS_TYPE)}}},io={key:1},oo={class:"d-flex title-xxlarge"},ao={role:"tablist",class:"d-flex flex-wrap tab_back",style:{width:"100%","overflow-x":"hidden"}},so=["aria-label","onClick","onKeydown"];function no(e,t,i,a,l,s){const d=Z,c=me;return h(),T("div",null,[l.bNoPage?(h(),R(d,{key:0})):(h(),T("div",io,[o("div",oo,[m(r(l.BOARD_NM)+" ",1),n(B),l.NMBR_WRT_YN?(h(),R(g,{key:0,onClick:t[0]||(t[0]=u=>s.ShowEditDialog())},{default:_(()=>[n(p,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:_(()=>[m("mdi-pencil")]),_:1}),m(r(e.$t("all_btn_write")),1)]),_:1})):f("",!0)]),o("div",ao,[(h(!0),T(E,null,M(l.zTab,(u,D)=>(h(),T("button",{"aria-label":u.CONTS_NM+" "+(u.value==l.iTab?"선택됨":""),key:D,class:v((l.iTab==D?"sel_box_btn":"nor_box_btn")+" center_all"),role:"tab",onClick:I=>s.ChangeContents(u,D,!1),onKeydown:[w(I=>s.moveTab(D,-1),["left"]),w(I=>s.moveTab(D,1),["right"])]},r(u.CONTS_NM),43,so))),128))]),l.bShowContents?(h(),R(c,{key:0,bShowPageTitle:!1,bShowBoardTitle:!1,bShowFormTitle:!1,onShowEditBtn_ContentPage:s.ShowEditBtn,ref:"M4_Dynamic_NoContents_ref"},null,8,["onShowEditBtn_ContentPage"])):f("",!0)]))])}const ro=P(lo,[["render",no]]),_o={data(){return{bShowContents:!1,bNoPage:!1,MENU_ID:""}},components:{},mounted(){this.InitVueData(He().params.id)},beforeRouteUpdate(e,t,i){i(),this.InitVueData(e.params.id)},beforeUnmount(){},methods:{InitVueData(e){this.MENU_ID=e;var t=this.findMenuById(this.$store.state.main_menu,this.MENU_ID);t?t.CONTS_CNT==1?(this.bShowContents=!1,this.$nextTick(()=>{this.$refs.M4_Dynamic_NoContents_ref.SortDisplayType(t.id,t.PAGE_ID,t.BOARDLIST_ID,t.FORM_TYPE,t.CONTS_TYPE)})):(this.bShowContents=!0,this.$nextTick(()=>{this.$refs.M4_Dynamic_Contents_ref.SortDisplayType(t.id,t.name,this.MENU_ID)})):this.bNoPage=!0},findMenuById(e,t){for(const i of e){if(i.path===t)return i;if(i.menu_dept1){const a=this.findMenuById(i.menu_dept1,t);if(a)return a}if(i.menu_dept2){const a=this.findMenuById(i.menu_dept2,t);if(a)return a}}return null}}};function ho(e,t,i,a,l,s){const d=Z,c=me,u=ro;return h(),T("div",null,[l.bNoPage?(h(),R(d,{key:0})):f("",!0),l.bShowContents?f("",!0):(h(),R(c,{key:1,bShowPageTitle:!0,bShowBoardTitle:!0,bShowFormTitle:!0,ref:"M4_Dynamic_NoContents_ref"},null,512)),l.bShowContents?(h(),R(u,{key:2,ref:"M4_Dynamic_Contents_ref"},null,512)):f("",!0)])}const go=P(_o,[["render",ho]]);export{go as default};
