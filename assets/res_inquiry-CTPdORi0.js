function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/M4_Reservation_Agree-D_vbKWPz.js","assets/index-BH5eA207.js","assets/index-ZER7qQHm.css","assets/AuthPageForKakao-DQxw_Zf2.js","assets/M4_Input-i8TYwvwg.js","assets/VTextField-Bh3dzl8q.js","assets/VTextField-B8CV3Den.css","assets/VRow-CaeUyhLW.js","assets/VCheckbox-K1ZPM7B0.js","assets/VCheckbox-CMKdyl0R.css","assets/AuthPageForKakao-C8_EBfgT.css","assets/VRadioGroup-CZ9miwC9.js","assets/VRadioGroup-i2qP9Wu9.css","assets/M4_Reservation_Agree-DtCo-QoB.js","assets/AuthPageForKakao-BKs2vgap.js","assets/AuthPageForKakao-DytVrRFb.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as y,ag as K,a5 as F,ac as A,E as R,a as C,a8 as X,a9 as H,aa as q,ab as B,ah as w,o as u,c as f,w as o,d as a,V as $,e as c,g as Z,h as b,i as P,f as m,q as D,j as S,F as I,r as M,t as g,Y as x,m as W,af as j,$ as k,ai as J,aj as z,a1 as Q,a2 as ee,a3 as G,a4 as te,p as le,ae as ie}from"./index-BH5eA207.js";import{_ as se}from"./M4_Inputarea-esnVivpZ.js";import{_ as ae}from"./M4_Select-BFFI3ybi.js";import{_ as oe}from"./M4_PostCode-BuJxgTRp.js";import{_ as ne}from"./M4_Input-i8TYwvwg.js";import{V,a as d}from"./VRow-CaeUyhLW.js";import{V as U,a as Y}from"./VRadioGroup-CZ9miwC9.js";import{V as L}from"./VCheckbox-K1ZPM7B0.js";import{_ as re}from"./M4_Date-B3U_2eoC.js";import{V as _e}from"./VDataTable-BuGlKFKq.js";import"./VTextField-Bh3dzl8q.js";const ue={data(){return{bDialog:!1,zSelectYears1:[],zSelectYears2:[],cRequestName:"",cRequestMobile:"",cRequestBirth:"",cToken:"",oEditItem:{EXP_CD:"",RSVT_TIME_CD:"",RSVT_DT:"",EXP_RSVT_IDX:-1,BKR_NM:"",BKR_MBL_TELNO:"",BKR_TELNO:"",GROUP_NM:"",BKR_GROUP_TELNO:"",INDV_YN:"N",GROUP_YN:"N",BKR_BIZNO:"",ZIP_NO:"",ADDR:"",UPDT_DT:"",EXP_PRGRM_NM:"",MEMO_CN:""},oDefaultEditItem:{EXP_CD:"",RSVT_TIME_CD:"",RSVT_DT:"",EXP_RSVT_IDX:-1,BKR_NM:"",BKR_MBL_TELNO:"",BKR_TELNO:"",GROUP_NM:"",BKR_GROUP_TELNO:"",INDV_YN:"N",GROUP_YN:"N",BKR_BIZNO:"",ZIP_NO:"",ADDR:"",UPDT_DT:"",EXP_PRGRM_NM:"",MEMO_CN:""},bCheckBizCode:!1,bPersonal:!0,oSelectYears:"00",cSelectNation:"C000",bLocal1:!0,zExperiencerInfo1:[],bLocal2:!1,zExperiencerInfo2:[],WHELL_CHAIR_YN:!1,WHELL_CHAIR_CNT:0,iSelectIndex:-1,bCertificate:!1,zCertification:[],iTotalCnt:0,iMaxCnt:0}},mounted(){this.InitDaumPostCode()},computed:{bShowBlankArea(){return(this.$vuetify.display.md||this.$vuetify.display.lg)&&!this.bPersonal},iReservationNum1(){let t=0;for(let e=0;e<this.zExperiencerInfo1.length;e++)for(let n=0;n<this.zExperiencerInfo1[e].zInfo.length;n++)t+=Number(this.zExperiencerInfo1[e].zInfo[n].RSVT_NOPE);return t},iReservationNum2(){let t=0;for(let e=0;e<this.zExperiencerInfo2.length;e++)for(let n=0;n<this.zExperiencerInfo2[e].zInfo.length;n++)t+=Number(this.zExperiencerInfo2[e].zInfo[n].RSVT_NOPE);return t},iTotalReservationNum(){let t=this.iMaxCnt-this.iReservationNum1-this.iReservationNum2-this.iTotalCnt;return t<0&&(t=0),`${this.iReservationNum1+this.iReservationNum2} 명 (예약 가능 인원 ${t}명)`}},methods:{ShowDialog(t,e,n,_,i,l){this.oEditItem=Object.assign({EXP_CD:t.EXP_CD,RSVT_TIME_CD:t.RSVT_TIME_CD,RSVT_DT:t.RSVT_DT,INDV_YN:t.INDV_YN,GROUP_YN:t.GROUP_YN,EXP_RSVT_IDX:t.EXP_RSVT_IDX,BKR_NM:t.BKR_NM,BKR_MBL_TELNO:t.BKR_MBL_TELNO,BKR_TELNO:t.BKR_TELNO,GROUP_NM:t.GROUP_NM,BKR_GROUP_TELNO:t.BKR_GROUP_TELNO,BKR_BIZNO:t.BKR_BIZNO,ZIP_NO:t.ZIP_NO,ADDR:t.ADDR,UPDT_DT:t.UPDT_DT,EXP_PRGRM_NM:t.EXP_PRGRM_NM,MEMO_CN:t.MEMO_CN}),this.cRequestName=l.cRequestName,this.cRequestMobile=l.cRequestMobile,this.cRequestBirth=l.cRequestBirth,this.cToken=l.jwt,this.bCheckBizCode=!0,this.bPersonal=K(t.SELECT_GROUP_YN),this.oSelectYears=t.GROUP_TYPE;var r=F({AGE1_YN:t.AGE1_YN,AGE2_YN:t.AGE2_YN,AGE3_YN:t.AGE3_YN,AGE4_YN:t.AGE4_YN,AGE5_YN:t.AGE5_YN,AGE6_YN:t.AGE6_YN,AGE7_YN:t.AGE7_YN});this.zSelectYears1=[],this.zSelectYears2=[];for(let h=0;h<r.length;h++)this.zSelectYears1.push(Object.assign({bSelect:!1},{...r[h]})),this.zSelectYears2.push(Object.assign({bSelect:!1},{...r[h]}));let p=e.filter(h=>h.FRGNR_YN=="N"),E=e.filter(h=>h.FRGNR_YN=="Y");this.bLocal1=p.length>0,this.bLocal2=E.length>0,this.cSelectNation=this.bLocal2?this.$store.state.zSelectNation.filter(h=>h.text==E[0].NTN_NM)[0].value:"C000",this.zExperiencerInfo1=this.cReturnDisplayArray(p,this.zSelectYears1,"N"),this.zExperiencerInfo2=this.cReturnDisplayArray(E,this.zSelectYears2,"Y"),this.zCertification=n,this.bCertificate=this.zCertification.length>0,this.zCertification.forEach(h=>{h.NowSelFile=null,h.FILE_NM=h.LESS14_FILE_ID=="NONE"?"":h.FILE_NM,h.b14UpAge=A(h.BRDT)}),console.log(this.zCertification),this.iTotalCnt=_,this.iMaxCnt=i,this.bDialog=!0,this.$store.state.isDialog=!0,this.$store.state.btnDialogRef=document.activeElement},DialogClose(){this.bDialog=!1,this.$store.state.isDialog=!1,R.$emit("onBackDialogBtn")},cReturnDisplayArray(t,e,n){var _=[];const i=t.map(l=>l.AGE_TYPE);for(let l=0;l<i.length;l++){let r=e.filter(p=>p.AGE_TYPE==i[l]);r.length>0&&(r[0].bSelect=!0,_.push({AGE_TYPE:r[0].AGE_TYPE,cYearsNm:r[0].cYearsNm,iOrder:e.indexOf(r[0]),FRGNR_YN:n,NTN_NM:"",zInfo:[{cLabel:"남자(비장애인)",GNDR_TYPE:"M",DISABLED_YN:"N",DISABLED_TYPE:"",RSVT_NOPE:0},{cLabel:"여자(비장애인)",GNDR_TYPE:"Y",DISABLED_YN:"N",DISABLED_TYPE:"",RSVT_NOPE:0},{cLabel:"남자(시각장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"V",RSVT_NOPE:0},{cLabel:"여자(시각장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"V",RSVT_NOPE:0},{cLabel:"남자(청각장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"H",RSVT_NOPE:0},{cLabel:"여자(청각장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"H",RSVT_NOPE:0},{cLabel:"남자(정신장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"M",RSVT_NOPE:0},{cLabel:"여자(정신장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"M",RSVT_NOPE:0}]}))}for(let l=0;l<t.length;l++){let r=_.filter(p=>p.AGE_TYPE==t[l].AGE_TYPE);if(r.length>0){let p=r[0].zInfo.filter(E=>E.GNDR_TYPE==t[l].GNDR_TYPE&&E.DISABLED_YN==t[l].DISABLED_YN&&E.DISABLED_TYPE==t[l].DISABLED_TYPE);p[0].RSVT_NOPE=t[l].RSVT_NOPE}}return _},InitDaumPostCode(){this.DaumWindow||(this.DaumWindow=new window.daum.Postcode({oncomplete:t=>{this.oEditItem.ZIP_NO=t.zonecode,this.oEditItem.ADDR=t.userSelectedType=="R"?t.roadAddress:t.jibunAddress}}))},openPostcode(){this.DaumWindow.open()},InitDialogData(){this.InitGroupInfo(),this.bDialog=!1,this.$store.state.isDialog=!1,this.oEditItem={...this.oDefaultEditItem},this.zExperiencerInfo1=[],this.zExperiencerInfo2=[],this.bPersonal=!0,this.bLocal1=!0,this.WHELL_CHAIR_CNT=0,this.bLocal2=!1,this.WHELL_CHAIR_YN=!1,this.WHELL_CHAIR_CNT=0,this.bCertificate=!1,this.zCertification=[],this.cSelectNation="C000"},InitGroupInfo(){this.oSelectYears="00",this.oEditItem.GROUP_NM="",this.oEditItem.BKR_GROUP_TELNO="",this.oEditItem.BKR_BIZNO="",this.bCheckBizCode=!1},CheckBizCode(){if(this.oEditItem.BKR_BIZNO=this.oEditItem.BKR_BIZNO.replace(/-/g,""),this.oEditItem.BKR_BIZNO.length!=10||!/[0-9]{10}$/.test(this.oEditItem.BKR_BIZNO)){R.$emit("onShowMsg",{cSubTitle:"입력하신 사업자 번호의 형식이 올바르지 않습니다.",cTitle:"10자리의 숫자만 입력 하여 주세요.",cMsg:""});return}C.post("https://api.odcloud.kr/api/nts-businessman/v1/status?serviceKey=ezOvlcdSnta4n%2FzxgMUd05ZOz%2FNARMuD7r5br%2FX7sYOzR3juvsfQN549b4uQ%2BR9Mf614N6JhRFl2YDMAFhwM7A%3D%3D",{b_no:[this.oEditItem.BKR_BIZNO]}).then(n=>{n.data.data[0].tax_type==="국세청에 등록되지 않은 사업자등록번호입니다."?R.$emit("onShowMsg",{cSubTitle:"사업자 번호를 다시 확인하여 주세요.",cTitle:"국세청에 등록되지 않은 사업자등록번호입니다.",cMsg:""}):(this.bCheckBizCode=!0,R.$emit("onAlarmSnackbar",{cColor:"info",iTimeOut:4e3,sMsg:"확인 되었습니다."}))}).catch(n=>{console.error(n)})},ToggleExperienceInfo(t){t==1?this.bLocal1||(this.zExperiencerInfo1=[],this.zSelectYears1.forEach(e=>e.bSelect=!1)):this.bLocal2||(this.zExperiencerInfo2=[],this.zSelectYears2.forEach(e=>e.bSelect=!1))},TagetTextFeildValue(t){t.target.select()},SelectYears2Func(t,e,n,_){let i=t.findIndex(l=>l.AGE_TYPE==e.AGE_TYPE);i==-1?(t.push({AGE_TYPE:e.AGE_TYPE,cYearsNm:e.cYearsNm,iOrder:n,FRGNR_YN:_,NTN_NM:"",zInfo:[{cLabel:"남자(비장애인)",GNDR_TYPE:"M",DISABLED_YN:"N",DISABLED_TYPE:"",RSVT_NOPE:0},{cLabel:"여자(비장애인)",GNDR_TYPE:"Y",DISABLED_YN:"N",DISABLED_TYPE:"",RSVT_NOPE:0},{cLabel:"남자(시각장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"V",RSVT_NOPE:0},{cLabel:"여자(시각장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"V",RSVT_NOPE:0},{cLabel:"남자(청각장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"H",RSVT_NOPE:0},{cLabel:"여자(청각장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"H",RSVT_NOPE:0},{cLabel:"남자(정신장애인)",GNDR_TYPE:"M",DISABLED_YN:"Y",DISABLED_TYPE:"M",RSVT_NOPE:0},{cLabel:"여자(정신장애인)",GNDR_TYPE:"Y",DISABLED_YN:"Y",DISABLED_TYPE:"M",RSVT_NOPE:0}]}),t.sort(function(l,r){return l.iOrder-r.iOrder})):t.splice(i,1)},ToggleCertificate(){this.bCertificate?this.zCertification.push({NM:"",BRDT:"",NowSelFile:null,b14UpAge:!1,FILE_NM:"",LESS14_FILE_ID:"NONE"}):this.zCertification=[]},GetFile(t,e){t.NowSelFile=null,this.iSelectIndex=e,this.$refs.fileInput.click()},onFileSelected(t){this.zCertification[this.iSelectIndex].NowSelFile=t.target.files[0],this.zCertification[this.iSelectIndex].FILE_NM=t.target.files[0].name},AddCertification(){this.zCertification.push({NM:"",BRDT:"",NowSelFile:null,b14UpAge:!1,FILE_NM:"",LESS14_FILE_ID:"NONE"})},DelCertification(t){this.zCertification.splice(this.zCertification.indexOf(t),1)},bSendSvrFile(t){var e=new Date,n=e.getFullYear(),_=t.name,i=X(_).toUpperCase(),l=H(q(t.type));let r=new FormData;return r.append("uploadfilenor",t),new Promise(p=>C.post("https://test1-fire.seoul.go.kr/cmsapi/UploadFileNorNew?PublicFile=Y&Year="+n+"&FileNm="+_+"&Extend="+i+"&MimeType="+t.type+"&Size="+t.size+"&FileTypeId="+l,r,{headers:{"Content-Type":"multipart/form-data"}}).then(E=>{p(E)}).catch(E=>{p(null),R.$emit("onShowMsg",{cSubTitle:"파일저장에 실패하였습니다.",cTitle:"관리자에게 문의 바랍니다.",cMsg:`Error : ${E}`})}))},CheckDisabilityInformation(){for(let t=0;t<this.zExperiencerInfo1.length;t++)for(let e=0;e<this.zExperiencerInfo1[t].zInfo.length;e++)if(e>1&&Number(this.zExperiencerInfo1[t].zInfo[e].RSVT_NOPE)!=0){this.$refs.M4_Msgbox_2_ref.ShowReturn("장애인이 체험을 하기 위해서는 인솔자(보호자) 동반이 필수입니다.","인솔자(보호자) 인원정보도 기입하지 않으셨을 경우, 예약 수정을 통해 입력하여 주세요.","");return}for(let t=0;t<this.zExperiencerInfo2.length;t++)for(let e=0;e<this.zExperiencerInfo2[t].zInfo.length;e++)if(e>1&&Number(this.zExperiencerInfo2[t].zInfo[e].RSVT_NOPE)!=0){this.$refs.M4_Msgbox_2_ref.ShowReturn("장애인이 체험을 하기 위해서는 인솔자(보호자) 동반이 필수입니다.","인솔자(보호자) 인원정보도 기입하지 않으셨을 경우, 예약 수정을 통해 입력하여 주세요.","");return}this.CheckForeignerOver20(!0)},CheckForeignerOver20(t){t&&(this.bLocal2&&this.iReservationNum1+this.iReservationNum2>=20?this.$refs.M4_Msgbox_3_ref.ShowReturn("외국인 예약 시에는 통역사 동반이 필수입니다.","20명 이상일 경우 체험관으로 직접 문의해 주세요.",""):this.SetReservationInfo(!0))},async SetReservationInfo(t){if(!t)return;if(this.iMaxCnt-this.iTotalCnt-this.iReservationNum1-this.iReservationNum2<0){R.$emit("onShowMsg",{cSubTitle:"신청 가능한 최대 인원수를 넘었습니다.",cTitle:"확인 후 인원 정보를 수정해 주세요.",cMsg:""});return}if(this.bPersonal&&this.iReservationNum1+this.iReservationNum2>10){R.$emit("onShowMsg",{cSubTitle:"개인 예약 시 신청 가능한 최대 인원 수를 넘었습니다.",cTitle:"개인 예약 시에는 최대 10명까지만 가능 합니다.",cMsg:""});return}if(!this.bPersonal&&this.iReservationNum1+this.iReservationNum2>30){R.$emit("onShowMsg",{cSubTitle:"단체 예약 시 신청 가능한 최대 인원 수를 넘었습니다.",cTitle:"단체 예약 시에는 최대 30명까지만 가능 합니다.",cMsg:""});return}if(!this.bPersonal&&this.oEditItem.BKR_GROUP_TELNO==""){R.$emit("onShowMsg",{cSubTitle:"단체 예약 시에는 일반전화번호를 반드시 입력하셔야 합니다.",cTitle:"일반전화 정보를 입력하여 주세요.",cMsg:""});return}if(!this.bPersonal&&this.oSelectYears=="00"){R.$emit("onShowMsg",{cSubTitle:"단체 유형을 선택해 주세요.",cTitle:"단체 예약 시에는 유형 선택은 필수 입니다.",cMsg:""});return}if(this.bLocal1&&this.iReservationNum1==0){R.$emit("onShowMsg",{cSubTitle:"인원정보가 누락되었습니다.",cTitle:"예약 가능한 최소 내국인 인원은 1명입니다.",cMsg:""});return}if(this.bLocal2&&this.iReservationNum2==0){R.$emit("onShowMsg",{cSubTitle:"인원정보가 누락되었습니다.",cTitle:"예약 가능한 최소 외국인 인원은 1명입니다.",cMsg:""});return}if(this.bLocal2&&this.cSelectNation=="C000"){R.$emit("onShowMsg",{cSubTitle:"국적을 선택해 주세요.",cTitle:`국적 정보를 선택해 주세요.
2개국 이상이실 경우 그 외로 선택해 주세요.`,cMsg:""});return}if(!this.bPersonal&&!this.bCheckBizCode){R.$emit("onShowMsg",{cSubTitle:"사업자 번호가 유효한지 검증이 필요합니다.",cTitle:"사업자 번호 입력 란 옆의 확인 버튼을 눌러서 해당 사업자 번호가 유효한 번호인지 확인해 주세요.",cMsg:""});return}let e=JSON.parse(JSON.stringify(this.zExperiencerInfo1)),n=JSON.parse(JSON.stringify(this.zExperiencerInfo2));for(let l=0;l<e.length;l++)e[l].zInfo=e[l].zInfo.filter(r=>r.RSVT_NOPE!==0),e[l].NTN_NM="대한민국",e[l].zInfo.forEach(r=>{r.RSVT_NOPE=Number(r.RSVT_NOPE)});for(let l=0;l<n.length;l++)n[l].zInfo=n[l].zInfo.filter(r=>r.RSVT_NOPE!==0),n[l].NTN_NM=this.$store.state.zSelectNation.filter(r=>r.value==this.cSelectNation)[0].text,n[l].zInfo.forEach(r=>{r.RSVT_NOPE=Number(r.RSVT_NOPE)});for(let l=0;l<this.zCertification.length;l++){if(!this.zCertification[l].FILE_NM){R.$emit("onShowMsg",{cSubTitle:"동의서가 필요합니다.",cTitle:"14세 미만의 경우, 법정대리인 동의서가 필요합니다. 14세 이상인 경우, 개인정보 이용동의서를 첨부하여 주세요.",cMsg:""});return}if(this.zCertification[l].NowSelFile){var _=await this.bSendSvrFile(this.zCertification[l].NowSelFile);if(_)if(_.data.ResultCd=="00")this.zCertification[l].LESS14_FILE_ID=_.data.FileId;else{R.$emit("onShowMsg",{cSubTitle:"파일저장에 실패하였습니다.",cTitle:"관리자에게 문의 바랍니다.",cMsg:`Error : ${_.data.Msg}`});return}else{R.$emit("onShowMsg",{cSubTitle:"파일저장에 실패하였습니다.",cTitle:"관리자에게 문의 바랍니다.",cMsg:`Error : ${_.data.Msg}`});return}}}this.WHELL_CHAIR_YN||(this.WHELL_CHAIR_CNT=0);var i={EXP_CD:this.oEditItem.EXP_CD,RSVT_TIME_CD:this.oEditItem.RSVT_TIME_CD,RSVT_DT:this.oEditItem.RSVT_DT,EXP_RSVT_IDX:this.oEditItem.EXP_RSVT_IDX,SITE_CD:"boramea",BKR_NM:this.oEditItem.BKR_NM,BKR_MBL_TELNO:this.oEditItem.BKR_MBL_TELNO,BKR_TELNO:this.oEditItem.BKR_TELNO,GROUP_NM:this.oEditItem.GROUP_NM,BKR_GROUP_TELNO:this.oEditItem.BKR_GROUP_TELNO,BKR_BIZNO:this.oEditItem.BKR_BIZNO,GROUP_TYPE:this.bPersonal?"01":this.oSelectYears,GROUP_YN:B(this.bPersonal),ZIP_NO:this.oEditItem.ZIP_NO,ADDR:this.oEditItem.ADDR,Personal:B(this.bPersonal),WHELL_CHAIR_YN:B(this.WHELL_CHAIR_YN),WHELL_CHAIR_CNT:Number(this.WHELL_CHAIR_CNT),MEMO_CN:this.oEditItem.MEMO_CN,ExperiencerInfo1:e,ExperiencerInfo2:n,Certification:this.zCertification,Name:this.cRequestName,TelNo:this.cRequestMobile,Birth:this.cRequestBirth,Token:this.cToken,National:this.$i18n.locale};C.post("https://test1-fire.seoul.go.kr/cmsapi/SetReservationInfo",i,{headers:{}}).then(l=>{l.data.ResultCd==="00"?(this.$emit("UpdateReservation",i.EXP_RSVT_IDX,this.iReservationNum1+this.iReservationNum2),this.InitDialogData()):R.$emit("onShowMsg",{cSubTitle:"예약 신청 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:l.data.Msg})}).catch(l=>{R.$emit("onShowMsg",{cSubTitle:"예약 신청 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${l}`})}).finally(()=>{})},onPrintDialog(){var t={EXP_PRGRM_NM:this.oEditItem.EXP_PRGRM_NM,EXP_RSVT_IDX:this.oEditItem.EXP_RSVT_IDX,RSVT_DT:this.oEditItem.RSVT_DT.substring(0,10),RSVT_TIME_CD:`${this.oEditItem.RSVT_TIME_CD.substring(3,5)}시`,iTotalReservationNum:`${this.iReservationNum1+this.iReservationNum2}명`,cLocation:w("boramea"),UPDT_DT:this.oEditItem.UPDT_DT,BKR_NM:this.oEditItem.BKR_NM,BKR_TELNO:this.oEditItem.BKR_TELNO,BKR_MBL_TELNO:this.oEditItem.BKR_MBL_TELNO};R.$emit("onPrintDialog",t)},AskDelDialog(){this.$refs.M4_Msgbox_ref.ShowReturn("예약을 취소하시겠습니까?","","")},CancelReservationInfo(t){if(t){var e={EXP_RSVT_IDX:this.oEditItem.EXP_RSVT_IDX,BKR_NM:this.oEditItem.BKR_NM,BKR_MBL_TELNO:this.oEditItem.BKR_MBL_TELNO,SITE_CD:"boramea",EXP_CD:this.oEditItem.EXP_CD,National:this.$i18n.locale};C.post("https://test1-fire.seoul.go.kr/cmsapi/CancelReservationInfo",e,{headers:{}}).then(n=>{n.data.ResultCd==="00"?(this.$emit("CancelReservation",e.EXP_RSVT_IDX),this.InitDialogData()):R.$emit("onShowMsg",{cSubTitle:"예약 수정 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${n.data.Msg}`})}).catch(n=>{R.$emit("onShowMsg",{cSubTitle:"예약 수정 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${n}`})}).finally(()=>{})}},Check14old(t){console.log("!!!!!!!",t),t.b14UpAge=A(t.BRDT)},DownloadAgreeDoc(t){C({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl=Files/SystemFile/"+t,method:"GET",responseType:"blob"}).then(e=>{const n=window.URL.createObjectURL(new Blob([e.data])),_=document.createElement("a");_.href=n,_.setAttribute("download",t),document.body.appendChild(_),_.click()})}}},ce={class:"d-flex"},de=c("div",{class:"title-xlarge ml-1"},"신청자 정보",-1),he={class:"d-flex mb-n4"},me=c("div",{class:"title-xlarge mt-10"},"체험자 정보",-1),Re={class:"d-flex"},fe={class:"d-flex"},Ee={class:"d-flex align-center"},Ne=c("div",{class:"title-medium font-bold pl-2 pr-2 mb-1"},"체험자 연령(내국인)",-1),Te={class:"d-flex flex-wrap",style:{"margin-top":"-15px"}},De=c("div",{class:"pl-2 pr-2"},[m(" - 초등학생은 보호자(인솔자) 동반 및 예약 필수"),c("br"),m(" - 초등학생 단체인 경우 10명당 1명 이상의 보호자(인솔자) 필요"),c("br"),m(" - 장애인은 적정인원의 보호자(인솔자) 포함 예약 바랍니다. ")],-1),pe={class:"pa-2"},be={class:"title-large"},Se=c("div",{class:"title-medium font-bold pl-2 pr-2 mb-1"},"체험자 연령(외국인)",-1),ge={class:"d-flex flex-wrap",style:{"margin-top":"-15px"}},Ie=c("div",{class:"pl-2 pr-2"},[m(" - 초등학생은 보호자(인솔자) 동반 및 예약 필수"),c("br"),m(" - 초등학생 단체인 경우 10명당 1명 이상의 보호자(인솔자) 필요"),c("br"),m(" - 장애인은 적정인원의 보호자(인솔자) 포함 예약 바랍니다. ")],-1),Me={class:"pa-2"},Pe={class:"title-large"},Ce={class:"d-flex align-center"},Ve={class:"d-flex align-center justify-space-around mb-2"},Le=c("label",{for:"fileUpload",class:"custom-file-label",style:{display:"none"}},"파일 첨부",-1);function Oe(t,e,n,_,i,l){const r=ne,p=oe,E=ae,h=se,O=j;return u(),f(W,{"aria-modal":"true","onUpdate:modelValue":[l.DialogClose,e[32]||(e[32]=s=>i.bDialog=s)],modelValue:i.bDialog},{default:o(()=>[a($,{class:"pa-4"},{default:o(()=>[c("div",ce,[de,a(Z),a(b,{variant:"plain",class:"mt-n1",icon:"",onClick:l.DialogClose,title:"닫기"},{default:o(()=>[a(P,{"aria-hidden":"true"},{default:o(()=>[m("mdi-close")]),_:1})]),_:1},8,["onClick"])]),a(V,null,{default:o(()=>[a(d,{cols:"12",md:"6"},{default:o(()=>[a(r,{modelValue:i.oEditItem.BKR_NM,"onUpdate:modelValue":e[0]||(e[0]=s=>i.oEditItem.BKR_NM=s),"hide-details":"",label:"신청자명",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"6"},{default:o(()=>[a(r,{modelValue:i.oEditItem.BKR_MBL_TELNO,"onUpdate:modelValue":e[1]||(e[1]=s=>i.oEditItem.BKR_MBL_TELNO=s),"hide-details":"",label:"휴대전화",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"6"},{default:o(()=>[a(r,{modelValue:i.oEditItem.BKR_TELNO,"onUpdate:modelValue":e[2]||(e[2]=s=>i.oEditItem.BKR_TELNO=s),"hide-details":"",label:"일반전화"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"12",sm:"12"},{default:o(()=>[c("div",he,[a(p,{modelValue:i.oEditItem.ZIP_NO,"onUpdate:modelValue":e[3]||(e[3]=s=>i.oEditItem.ZIP_NO=s),"hide-details":"",label:"우편번호",placeholder:"우편번호를 검색해주세요.","persistent-placeholder":"",readonly:"",density:"compact",variant:"outlined",color:"primary",style:{"max-width":"250px",height:"10px !important"}},null,8,["modelValue"]),a(b,{onClick:e[4]||(e[4]=s=>l.openPostcode()),color:"black",class:"mt-6 ml-2",style:{height:"39px"},title:"새창열림"},{default:o(()=>[m("주소찾기")]),_:1})])]),_:1}),a(d,{cols:"12"},{default:o(()=>[a(r,{modelValue:i.oEditItem.ADDR,"onUpdate:modelValue":e[5]||(e[5]=s=>i.oEditItem.ADDR=s),class:"mb-n4","hide-details":"",label:"주소",placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),me,a(V,{class:"mt-1"},{default:o(()=>[a(d,{cols:"11",md:"2",xl:"1",style:{"padding-top":"15px"}},{default:o(()=>[a(U,{modelValue:i.bPersonal,"onUpdate:modelValue":e[6]||(e[6]=s=>i.bPersonal=s),onChange:e[7]||(e[7]=s=>l.InitGroupInfo()),inline:"",density:"compact","hide-details":""},{default:o(()=>[this.oEditItem.INDV_YN=="Y"?(u(),f(Y,{key:0,label:"개인","aria-label":"개인",value:!0})):D("",!0),this.oEditItem.GROUP_YN=="Y"?(u(),f(Y,{key:1,label:"단체","aria-label":"단체",class:"ml-2",value:!1})):D("",!0)]),_:1},8,["modelValue"])]),_:1}),i.bPersonal?D("",!0):(u(),f(d,{key:0,cols:"12",md:"4",xl:"2"},{default:o(()=>[a(E,{label:"유형",modelValue:i.oSelectYears,"onUpdate:modelValue":e[8]||(e[8]=s=>i.oSelectYears=s),items:t.$store.state.zSelectYears1,"item-value":"cCode","item-title":"cYearsNm"},null,8,["modelValue","items"])]),_:1})),i.bPersonal?D("",!0):(u(),f(d,{key:1,cols:"12",md:"3",xl:"3"},{default:o(()=>[a(r,{modelValue:i.oEditItem.GROUP_NM,"onUpdate:modelValue":e[9]||(e[9]=s=>i.oEditItem.GROUP_NM=s),label:"단체명(*)"},null,8,["modelValue"])]),_:1})),i.bPersonal?D("",!0):(u(),f(d,{key:2,cols:"12",md:"3",xl:"3"},{default:o(()=>[a(r,{modelValue:i.oEditItem.BKR_GROUP_TELNO,"onUpdate:modelValue":e[10]||(e[10]=s=>i.oEditItem.BKR_GROUP_TELNO=s),label:"단체 일반전화"},null,8,["modelValue"])]),_:1})),i.bPersonal?D("",!0):(u(),f(d,{key:3,cols:"12",md:"6",xl:"3"},{default:o(()=>[c("div",Re,[a(r,{class:"mt-5",modelValue:i.oEditItem.BKR_BIZNO,"onUpdate:modelValue":e[11]||(e[11]=s=>i.oEditItem.BKR_BIZNO=s),onKeydown:e[12]||(e[12]=s=>i.bCheckBizCode=!1),label:"사업자등록번호(*)",placeholder:"10자리의 숫자만 입력하여 주세요"},null,8,["modelValue"]),a(b,{onClick:e[13]||(e[13]=s=>l.CheckBizCode()),color:"black",class:"ml-2",style:{height:"39px"},title:"확인"},{default:o(()=>[m("확인")]),_:1})])]),_:1})),i.bPersonal?(u(),f(d,{key:4,cols:"1",md:"10"})):D("",!0),l.bShowBlankArea?(u(),f(d,{key:5,cols:"6"})):D("",!0),a(d,{cols:"12",md:"4",style:{"padding-left":"5px","padding-right":"5px"}},{default:o(()=>[c("div",fe,[a(L,{onChange:e[14]||(e[14]=s=>l.ToggleExperienceInfo(1)),modelValue:i.bLocal1,"onUpdate:modelValue":e[15]||(e[15]=s=>i.bLocal1=s),"hide-details":"",label:"내국인","aria-label":"내국인"},null,8,["modelValue"]),a(L,{onChange:e[16]||(e[16]=s=>l.ToggleExperienceInfo(2)),modelValue:i.bLocal2,"onUpdate:modelValue":e[17]||(e[17]=s=>i.bLocal2=s),"hide-details":"",label:"외국인","aria-label":"외국인"},null,8,["modelValue"])])]),_:1}),i.bLocal2?(u(),f(d,{key:6,cols:"12",md:"8"},{default:o(()=>[c("div",Ee,[a(E,{label:"국적",modelValue:i.cSelectNation,"onUpdate:modelValue":e[18]||(e[18]=s=>i.cSelectNation=s),items:t.$store.state.zSelectNation,"item-value":"value","item-title":"text","hide-details":""},null,8,["modelValue","items"])])]),_:1})):D("",!0),i.bLocal1?(u(),f(d,{key:7,cols:"12",style:{"padding-left":"7px","padding-right":"7px"}},{default:o(()=>[Ne,c("div",Te,[(u(!0),S(I,null,M(i.zSelectYears1,(s,T)=>(u(),f(L,{onChange:N=>l.SelectYears2Func(i.zExperiencerInfo1,s,T,"N"),modelValue:s.bSelect,"onUpdate:modelValue":N=>s.bSelect=N,label:s.cYearsNm,key:T,"hide-details":""},null,8,["onChange","modelValue","onUpdate:modelValue","label"]))),128))]),De]),_:1})):D("",!0),(u(!0),S(I,null,M(i.zExperiencerInfo1,s=>(u(),f(d,{cols:"12",key:s},{default:o(()=>[c("div",pe,[c("div",be,g(s.cYearsNm),1),a(V,{class:"mt-2"},{default:o(()=>[(u(!0),S(I,null,M(s.zInfo,(T,N)=>(u(),f(d,{cols:"12",md:"3",sm:"6",key:N},{default:o(()=>[a(r,{modelValue:T.RSVT_NOPE,"onUpdate:modelValue":v=>T.RSVT_NOPE=v,label:T.cLabel,"hide-spin-buttons":!0,onFocus:l.TagetTextFeildValue},null,8,["modelValue","onUpdate:modelValue","label","onFocus"])]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128)),i.bLocal1?(u(),f(d,{key:8,cols:"12",class:"pt-0 pb-0"},{default:o(()=>[a(x,{"aria-hidden":!0})]),_:1})):D("",!0),i.bLocal2?(u(),f(d,{key:9,cols:"12",style:{"padding-left":"7px","padding-right":"7px"}},{default:o(()=>[Se,c("div",ge,[(u(!0),S(I,null,M(i.zSelectYears2,(s,T)=>(u(),f(L,{onChange:N=>l.SelectYears2Func(i.zExperiencerInfo2,s,T,"Y"),modelValue:s.bSelect,"onUpdate:modelValue":N=>s.bSelect=N,label:s.cYearsNm,"aria-label":s.cYearsNm,key:T,"hide-details":""},null,8,["onChange","modelValue","onUpdate:modelValue","label","aria-label"]))),128))]),Ie]),_:1})):D("",!0),(u(!0),S(I,null,M(i.zExperiencerInfo2,s=>(u(),f(d,{cols:"12",key:s},{default:o(()=>[c("div",Me,[c("div",Pe,g(s.cYearsNm),1),a(V,{class:"mt-2"},{default:o(()=>[(u(!0),S(I,null,M(s.zInfo,(T,N)=>(u(),f(d,{cols:"12",md:"3",sm:"6",key:N},{default:o(()=>[a(r,{modelValue:T.RSVT_NOPE,"onUpdate:modelValue":v=>T.RSVT_NOPE=v,label:T.cLabel,"hide-spin-buttons":!0,onFocus:l.TagetTextFeildValue},null,8,["modelValue","onUpdate:modelValue","label","onFocus"])]),_:2},1024))),128))]),_:2},1024)])]),_:2},1024))),128)),i.bLocal2?(u(),f(d,{key:10,cols:"12",class:"pt-0 pb-0"},{default:o(()=>[a(x,{"aria-hidden":!0})]),_:1})):D("",!0),a(d,{cols:"12"},{default:o(()=>[c("div",Ce,[a(L,{label:"휠체어 필요 여부",modelValue:i.WHELL_CHAIR_YN,"onUpdate:modelValue":e[19]||(e[19]=s=>i.WHELL_CHAIR_YN=s),"hide-details":""},null,8,["modelValue"]),a(r,{label:"개수","aria-label":"개수",modelValue:i.WHELL_CHAIR_CNT,"onUpdate:modelValue":e[20]||(e[20]=s=>i.WHELL_CHAIR_CNT=s),disabled:!i.WHELL_CHAIR_YN,"hide-spin-buttons":!0,style:{"max-width":"80px","margin-left":"5px","margin-right":"5px"}},null,8,["modelValue","disabled"]),m(" 대 ")])]),_:1}),a(d,{cols:"12"},{default:o(()=>[a(r,{modelValue:l.iTotalReservationNum,"onUpdate:modelValue":e[21]||(e[21]=s=>l.iTotalReservationNum=s),style:{"max-width":"300px","margin-right":"5px"},label:"총 예약 인원"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:o(()=>[a(h,{modelValue:i.oEditItem.MEMO_CN,"onUpdate:modelValue":e[22]||(e[22]=s=>i.oEditItem.MEMO_CN=s),label:"기타 사항",placeholder:"필요시, 추가적인 기타 사항을 입력하세요."},null,8,["modelValue"])]),_:1}),a(d,{cols:"12"},{default:o(()=>[c("div",Ve,[m(" 이수증 발급 "),a(U,{modelValue:i.bCertificate,"onUpdate:modelValue":e[23]||(e[23]=s=>i.bCertificate=s),onChange:e[24]||(e[24]=s=>l.ToggleCertificate()),inline:"",density:"compact","hide-details":"",class:"ml-2"},{default:o(()=>[a(Y,{label:"예","aria-label":"예",value:!0}),a(Y,{label:"아니요","aria-label":"아니요",class:"ml-2",value:!1})]),_:1},8,["modelValue"]),a(b,{disabled:!i.bCertificate,onClick:e[25]||(e[25]=s=>l.AddCertification())},{default:o(()=>[m("추가")]),_:1},8,["disabled"])]),Le,c("input",{id:"fileUpload","aria-label":"파일첨부",type:"file",ref:"fileInput",style:{display:"none"},multiple:"",onChange:e[26]||(e[26]=(...s)=>l.onFileSelected&&l.onFileSelected(...s))},null,544),(u(!0),S(I,null,M(i.zCertification,(s,T)=>(u(),S("div",{key:T,class:"mb-2"},[a(V,null,{default:o(()=>[a(d,{cols:"12",md:"2"},{default:o(()=>[a(r,{modelValue:s.NM,"onUpdate:modelValue":N=>s.NM=N,"hide-details":"",label:"성명"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(d,{cols:"12",md:"3"},{default:o(()=>[a(r,{modelValue:s.BRDT,"onUpdate:modelValue":N=>s.BRDT=N,onKeyup:N=>l.Check14old(s),label:"생년월일 (8자리, yyyymmdd)",placeholder:"YYYYMMDD","hide-details":"","hide-spin-buttons":!0,"persistent-placeholder":"",density:"compact",variant:"outlined",color:"primary"},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1024),a(d,{cols:"12",md:"5"},{default:o(()=>[s.b14UpAge?(u(),f(b,{key:1,class:"mr-2 mt-5",onClick:e[28]||(e[28]=N=>l.DownloadAgreeDoc("이수증발급_개인정보수집및이용동의서_양식.docx"))},{default:o(()=>[m("개인정보이용 동의서 다운로드")]),_:1})):(u(),f(b,{key:0,class:"mr-2 mt-5",onClick:e[27]||(e[27]=N=>l.DownloadAgreeDoc("이수증발급_법정대리인_동의서.docx"))},{default:o(()=>[m("법정대리인 동의서 다운로드")]),_:1})),a(b,{onClick:N=>l.GetFile(s,T),class:"mt-6 mr-2 mb-1",style:{"min-width":"100px"}},{default:o(()=>[m(" 업로드 "),a(P,{"aria-hidden":"true",class:"ml-1"},{default:o(()=>[m("mdi-paperclip")]),_:1}),m(g(s.FILE_NM!=""?s.FILE_NM.substring(0,4)+"...":"첨부필요"),1)]),_:2},1032,["onClick"])]),_:2},1024),a(d,{cols:"12",md:"2"},{default:o(()=>[a(b,{onClick:N=>l.DelCertification(s),variant:"outlined",color:"black",style:{width:"70px","margin-top":"25px","margin-left":"75px"}},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-close")]),_:1}),m("삭제")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),a(d,{cols:"12",align:"right"},{default:o(()=>[a(b,{onClick:e[29]||(e[29]=s=>l.onPrintDialog()),class:"mr-4",color:"primary"},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-calendar-month-outline")]),_:1}),m("예약 확인증 인쇄")]),_:1}),a(b,{onClick:e[30]||(e[30]=s=>l.CheckDisabilityInformation()),class:"mr-4",color:"primary"},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-calendar-month-outline")]),_:1}),m("예약수정")]),_:1}),a(b,{onClick:e[31]||(e[31]=s=>l.AskDelDialog()),class:"mr-4",color:"primary"},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-calendar-month-outline")]),_:1}),m("예약취소")]),_:1}),a(b,{onClick:l.DialogClose,color:"primary"},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-close")]),_:1}),m("창닫기")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),a(O,{onOnResult:l.CheckForeignerOver20,ref:"M4_Msgbox_2_ref"},null,8,["onOnResult"]),a(O,{onOnResult:l.SetReservationInfo,ref:"M4_Msgbox_3_ref"},null,8,["onOnResult"]),a(O,{onOnResult:l.CancelReservationInfo,ref:"M4_Msgbox_ref"},null,8,["onOnResult"])]),_:1},8,["onUpdate:modelValue","modelValue"])}const Ye=y(ue,[["render",Oe]]),ve={data(){return{cRequestName:"",cRequestMobile:"",cRequestBirth:"",cToken:"",cStartReservationDate:k(new Date),cEndReservationDate:null,headers:[{title:this.$t("all_table_header_번호"),key:"iIndex",sortable:!1,align:"center"},{title:this.$t("all_table_header_장소"),key:"cPlaceNm",sortable:!1,align:"center"},{title:this.$t("all_table_header_프로그램"),key:"EXP_PRGRM_NM",sortable:!1,align:"center"},{title:this.$t("all_table_header_날짜/시간"),key:"cShowCreateDateTime",sortable:!1,align:"center"},{title:this.$t("all_table_header_예약인원"),key:"TOTAL_RSVT_NOPE",sortable:!1,align:"center"},{title:this.$t("all_table_header_예약상태"),key:"RSVT_STTS",sortable:!1,align:"center"},{title:"확인/변경/취소",key:"cAction",sortable:!1,align:"center"}],zData:[]}},components:{},computed:{},mounted(){var t=new Date;t.setMonth(t.getMonth()+2),this.cEndReservationDate=k(t)},beforeUnmount(){},methods:{ShowDispalyList(t){console.log(">>>>>",t),this.cRequestName=t.cRequestName,this.cRequestMobile=t.cRequestMobile,this.cRequestBirth=t.cRequestBirth,this.cToken=t.jwt,this.GetReservationInfo()},onStartAlarmDate(t){var e=new Date(t.substring(0,4),Number(t.substring(5,7))-1,t.substring(8,10)),n=new Date(this.cEndReservationDate);n<e&&(n.setDate(n.getDate()-1),this.$refs.M4_StartDate_ref.SetDate(n))},onEndAlarmDate(t){var e=new Date(t.substring(0,4),Number(t.substring(5,7))-1,t.substring(8,10)),n=new Date(this.cStartReservationDate);e<n&&(n.setDate(n.getDate()+1),this.$refs.M4_EndDate_ref.SetDate(n))},cStateToKorean(t){return t=="R"?"예약":t=="X"?"체험불참":t=="E"?"체험완료":"예약취소"},GetReservationInfo(){this.zData=[],console.log(J(this.cStartReservationDate));var t={SITE_CD:"boramea",BKR_NM:this.cRequestName,BKR_MBL_TELNO:this.cRequestMobile,StartReservationDate:z(new Date(this.cStartReservationDate)),EndReservationDate:z(new Date(this.cEndReservationDate)),Birth:this.cRequestBirth,Token:this.cToken};C.post("https://test1-fire.seoul.go.kr/cmsapi/GetReservationInfo",t,{headers:{}}).then(e=>{if(console.log(e.data),e.data.ResultCd==="00"){let n=e.data.Result.length;this.zData=e.data.Result.map((_,i)=>(_.iIndex=n-i,_.cPlaceNm=w("boramea"),_.cShowCreateDateTime=`${_.RSVT_DT.substring(0,10)}/${_.RSVT_TIME_CD.substring(3,5)}시`,_.TOTAL_RSVT_NOPE=`${_.TOTAL_RSVT_NOPE}명`,_))}else console.log("Error !!")}).catch(e=>{R.$emit("onShowMsg",{cSubTitle:"예약 리스트 내역 조회 중 문제가 발생했습니다.",cTitle:"계속 지속될 경우 담당자에게 문의 바랍니다.",cMsg:`Error : ${e}`})}).finally(()=>{})},async ShowDetailDialog(t){var n;var e=await this.GetReservationItemInfo(t);if(e.data.ResultCd=="44"){R.$emit("onTokenExpired");return}if(e.data.ResultCd=="00")if(e.data.Result1.length==0)R.$emit("onShowMsg",{cSubTitle:"조회된 정보가 없습니다.",cTitle:"게시글이 삭제되었을 수 있습니다. 화면을 새로 고침 해주세요.",cMsg:`(${e.data.ResultCd}) ${e.data.Msg}`});else{let _=[];if(e.data.Result6.length>0){if(e.data.Result6[0].OPER_YN=="N"){R.$emit("onShowMsg",{cSubTitle:"공휴일로 지정되어 해당 프로그램을 시행하지 않습니다.",cTitle:"자세한 사항은 관리자에게 문의 해주세요.",cMsg:""});return}_=e.data.Result6[0].TIME_CD_LIST.split(",")}this.$refs.M4_ResEditDialog_ref.ShowDialog(e.data.Result1[0],e.data.Result2,e.data.Result3,(n=e.data.Result4[0])!=null&&n.iTotalCnt?e.data.Result4[0].iTotalCnt:0,this.CalcMaxCnt(e.data.Result5[0],t.RSVT_DT,_.filter(i=>i==t.RSVT_TIME_CD).length>0),{cRequestName:this.cRequestName,cRequestMobile:this.cRequestMobile,cRequestBirth:this.cRequestBirth,jwt:this.cToken})}else R.$emit("onShowMsg",{cSubTitle:"상세 보기 중 문제가 발생했습니다.",cTitle:"문제가 계속 되면 관리자에게 문의 바랍니다.",cMsg:`(${e.data.ResultCd}) ${e.data.Msg}`})},GetReservationItemInfo(t){var e={SITE_CD:"boramea",EXP_CD:t.EXP_CD,EXP_RSVT_IDX:t.EXP_RSVT_IDX,RSVT_DT:t.RSVT_DT,RSVT_TIME_CD:t.RSVT_TIME_CD,Name:this.cRequestName,Tel:this.cRequestMobile,Birth:this.cRequestBirth,Token:this.cToken};return new Promise(n=>C.post("https://test1-fire.seoul.go.kr/cmsapi/GetReservationItemInfo",e,{headers:{}}).then(_=>{n(_)}).catch(_=>{n({data:{ResultCd:"98",Msg:_}})}))},UpdateReservation(t,e){let n=this.zData.filter(_=>_.EXP_RSVT_IDX==t);n.length>0&&(n[0].TOTAL_RSVT_NOPE=`${e}명`)},CancelReservation(t){let e=this.zData.filter(n=>n.EXP_RSVT_IDX==t);e.length>0&&(e[0].RSVT_STTS="C")},CalcMaxCnt(t,e,n){var _=new Date(e);return n?t.HOLIDAY_MAX_NOPE:_.getDay()+1==7?t.SAT_MAX_NOPE:_.getDay()+1==1?t.SUN_MAX_NOPE:t.MAX_NOPE}}},Be={class:"title-xxlarge"},ye={class:"mt-2 pa-3"},Ae={class:"nor_table_center"},xe={id:"table-caption",class:"sr-only"};function ke(t,e,n,_,i,l){const r=re,p=Ye;return u(),S("div",null,[c("h1",Be,g(t.$t("menu_0302_예약조회")),1),a(V,{class:"pt-4 ml-1"},{default:o(()=>[a(d,{cols:"12",sm:"6",md:"3",class:"pt-0 pb-0 pr-2 pl-2"},{default:o(()=>[a(r,{cDate:i.cStartReservationDate,"onUpdate:cDate":e[0]||(e[0]=E=>i.cStartReservationDate=E),cMessage:"",cLabel:"시작일자",onOnDate:l.onStartAlarmDate,ref:"M4_StartDate_ref"},null,8,["cDate","onOnDate"])]),_:1}),a(d,{cols:"12",sm:"6",md:"3",class:"pt-0 pb-0 pr-2 pl-2"},{default:o(()=>[a(r,{cDate:i.cEndReservationDate,"onUpdate:cDate":e[1]||(e[1]=E=>i.cEndReservationDate=E),cMessage:"",cLabel:"종료일자",onOnDate:l.onEndAlarmDate,ref:"M4_EndDate_ref"},null,8,["cDate","onOnDate"])]),_:1}),a(d,{cols:"12",sm:"6",md:"3",class:"pt-6 pb-0 pr-2 pl-2"},{default:o(()=>[a(b,{onClick:e[2]||(e[2]=E=>l.GetReservationInfo()),"aria-label":"조회"},{default:o(()=>[a(P,{"aria-hidden":"true",style:{"margin-right":"6px"}},{default:o(()=>[m("mdi-magnify")]),_:1}),m(g(t.$t("common_search")),1)]),_:1})]),_:1})]),_:1}),c("div",ye,[a(_e,{headers:i.headers,items:i.zData,"item-key":"EXP_RSVT_IDX","aria-labelledby":"table-caption"},{default:o(E=>[c("table",Ae,[c("caption",xe,g(t.$t("menu_0302_예약조회"))+" 테이블",1),c("thead",null,[c("tr",null,[(u(!0),S(I,null,M(E.headers[0],h=>(u(),S("th",{key:h.value,scope:"col"},g(h.title),1))),128))])]),c("tbody",null,[(u(!0),S(I,null,M(E.items,h=>(u(),S("tr",{key:h.id},[c("td",null,g(h.iIndex),1),c("td",null,g(h.cPlaceNm),1),c("td",null,g(h.EXP_PRGRM_NM),1),c("td",null,g(h.cShowCreateDateTime),1),c("td",null,g(h.TOTAL_RSVT_NOPE),1),c("td",null,g(l.cStateToKorean(h.RSVT_STTS)),1),c("td",null,[h.RSVT_STTS=="R"?(u(),f(b,{key:0,onClick:O=>l.ShowDetailDialog(h)},{default:o(()=>[m("보기")]),_:2},1032,["onClick"])):D("",!0)])]))),128))])])]),_:1},8,["headers","items"])]),a(p,{onUpdateReservation:l.UpdateReservation,onCancelReservation:l.CancelReservation,ref:"M4_ResEditDialog_ref"},null,8,["onUpdateReservation","onCancelReservation"])])}const ze=y(ve,[["render",ke]]),Ge={data(){return{local_site_component:null,bAgree:!0,bDataList:!1}},components:{DataList:ze},computed:{},mounted(){this.loadDynamicComponent()},beforeUnmount(){},methods:{async loadDynamicComponent(){try{const t=Q(()=>ee(Object.assign({"./en/M4_Reservation_Agree.vue":()=>G(()=>import("./M4_Reservation_Agree-D_vbKWPz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])),"./ko/M4_Reservation_Agree.vue":()=>G(()=>import("./M4_Reservation_Agree-DtCo-QoB.js"),__vite__mapDeps([13,1,2,14,4,5,6,7,8,9,15,11,12]))}),`./${this.$i18n.locale}/M4_Reservation_Agree.vue`));this.local_site_component=te(t)}catch(t){console.error("컴포넌트를 로드하는 중 에러가 발생했습니다:",t)}},onSuccessAuth(t,e){this.bAgree=!1,this.bDataList=!0,this.$nextTick(()=>{this.$refs.DataList_ref.ShowDispalyList(e)})}}};function Ue(t,e,n,_,i,l){const r=le("DataList");return u(),S("div",null,[i.bAgree?(u(),f(ie(i.local_site_component),{key:0,b14Age:!1,class:"mb-2",onOnSuccessAuth:l.onSuccessAuth},null,40,["onOnSuccessAuth"])):D("",!0),i.bDataList?(u(),f(r,{key:1,ref:"DataList_ref"},null,512)):D("",!0)])}const Qe=y(Ge,[["render",Ue]]);export{Qe as default};
