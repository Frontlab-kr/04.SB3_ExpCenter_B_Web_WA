import{_ as v,A,E as c,a4 as N,f as m,g as p,j as t,k as s,q as d,s as w,i as y,v as k,t as i,C as h,x as V,z as f,D as u}from"./index-BUiFz3UF.js";import{A as F}from"./AuthPageForKakao-BcvJnn3e.js";import{V as C,a as x}from"./VRadioGroup-Bh5HQTll.js";import{V as b}from"./VCheckbox-B_JcTgeU.js";import{V as U,a as S}from"./VRow-bsRTxLLH.js";import"./M4_Input-BXbsDCEU.js";import"./VTextField-ClG4QhFY.js";const q={props:["b14Age"],data(){return{reqNo:"",cRequestName:"홍길동",cRequestMobile:"01000000000",cRequestBirth:"19980101",cToken:"",bAgree1:!1,bAgree2:!1,bAgree3:!1,bAgreeAll:!1,b14AgeUp:!0,NowSelFile:null}},components:{AuthPageForKakao:F},mounted(){window.addEventListener("message",this.callbackResultFromNice)},beforeUnmount(){window.removeEventListener("message",this.callbackResultFromNice)},watch:{bAgreeAll(l){this.bAgree1=l,this.bAgree2=l,this.bAgree3=l}},methods:{InitData(){this.bAgree1=!1,this.bAgree2=!1,this.bAgree3=!1,this.bAgreeAll=!1,this.NowSelFile=null},DownloadAgreeDoc(){A({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl=Files/SystemFile/체험관예약_법정대리인_동의서.docx",method:"GET",responseType:"blob"}).then(l=>{const e=window.URL.createObjectURL(new Blob([l.data])),r=document.createElement("a");r.href=e,r.setAttribute("download","체험관예약_법정대리인_동의서.docx"),document.body.appendChild(r),r.click()})},GetFile(){this.$refs.fileInput.click()},onFileSelected(l){this.NowSelFile=l.target.files[0]},NiceAuthCheck(){if(this.b14AgeUp&&!this.bAgree1){c.$emit("onShowMsg",{cSubTitle:"예약신청을 위해 개인정보 처리 방침에 대한 동의가 필요합니다.",cTitle:"동의하기 버튼을 눌러 주세요.",cMsg:""});return}if(!this.b14AgeUp&&!this.NowSelFile){c.$emit("onShowMsg",{cSubTitle:"14세 미만일 경우 법정 대리인 동의서가 필요합니다.",cTitle:"동의서를 첨부하여 주세요.",cMsg:""});return}var l={};A.post("https://test1-fire.seoul.go.kr/cmsapi/NiceAuthCheck",l,{headers:{}}).then(async e=>{this.reqNo=e.data.reqNo;const r=window.open("","popupChk","width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no");if(!r)throw new Error("Popup blocked by the browser");r.document.open(),r.document.write(e.data.formHtml),r.document.close()}).catch(e=>{console.log(`Catch Error : ${e}`)}).finally(()=>{})},callbackResultFromNice(l){if(!(!this.reqNo||!l.data.reqNo)){if(this.reqNo!=l.data.reqNo){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 유효하지 않은 요청아이디"}),this.reqNo="";return}if(l.data.resultCd!="00"){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 인증실패"}),this.reqNo="";return}if(l.data.name==""&&l.data.phone==""&&l.data.birth==""){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 유효하지 않은 인증결과"}),this.reqNo="";return}this.reqNo="",this.checkAuthResult(l.data.name,l.data.phone,l.data.birth,l.data.jwt)}},KakaoAuthCheck(){if(this.b14AgeUp&&!this.bAgree1){c.$emit("onShowMsg",{cSubTitle:"예약신청을 위해 개인정보 처리 방침에 대한 동의가 필요합니다.",cTitle:"동의하기 버튼을 눌러 주세요.",cMsg:""});return}if(!this.b14AgeUp&&!this.NowSelFile){c.$emit("onShowMsg",{cSubTitle:"14세 미만일 경우 법정 대리인 동의서가 필요합니다.",cTitle:"동의서를 첨부하여 주세요.",cMsg:""});return}this.$refs.AuthPageForKakao_ref.ShowDialog()},SuccessKakaoAuth(l){console.log("<<<<<<<<",l),this.checkAuthResult(l.name,l.phone,l.birth,l.jwt)},checkAuthResult(l,e,r,_){let n=l,a=e,g=r;this.$emit("onSuccessAuth",this.NowSelFile,{cRequestName:n,cRequestMobile:a,cRequestBirth:g,bSelectedAgree1:this.bAgree1,bSelectedAgree2:this.bAgree2,bSelectedAgree3:this.bAgree3,jwt:_})}}},R={style:{display:"flex","justify-content":"center"}},T={style:{"max-width":"1000px",width:"100%"}},M={key:0,class:"font-weight-bold mb-10",align:"center"},D=t("div",{class:"mr-2 title-xlarge"},"신청자 본인의 나이가 만14세 이상이신가요?",-1),E=t("div",{style:{width:"50px"},class:"ml-8 hidden-sm-and-down"},null,-1),K={class:"mb-8"},B=f('<h2 class="title-xlarge">보라매 안전체험관 예약을 위한 개인정보 수집‧이용 동의서 </h2><div>보라매 안전체험관 예약을 위해 아래와 같이 개인정보를 수집‧이용하고자 합니다.</div><div>내용을 자세히 읽으신 후 동의여부를 결정하여 주세요.</div><div class="bg-gap"></div><h2 class="title-large">개인정보 수집‧이용 내역 <span style="color:blue;font-weight:900;">(필수사항)</span></h2><table class="nor_table mb-2"><caption class="sr-only">개인정보 수집‧이용 내역 테이블(필수사항)</caption><thead><tr><th scope="col">항목</th><th scope="col">수집‧이용 목적</th><th scope="col">보유‧이용기간</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;">이름(필수), 휴대 전화번호(필수), 주소(필수), 단체 예약 시 일반전화(필수)</td><td style="text-align:center;">예약확인</td><td style="text-align:center;" class="font-bold">체험 완료 후 3년</td></tr><tr><td style="width:50%;text-align:center;">이름(필수), 생년월일(필수)</td><td style="text-align:center;">이수증 발급</td><td style="text-align:center;" class="font-bold">체험 완료 후 3년</td></tr></tbody></table>',6),j=t("br",null,null,-1),P=t("br",null,null,-1),z=t("br",null,null,-1),I=t("br",null,null,-1),G={class:"d-flex font-weight-bold"},L=t("div",{class:"mr-2","aria-hidden":"true"},"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?",-1),H=f('<h2 class="title-large">개인정보 수집‧이용 내역 <span style="color:blue;font-weight:900;">(선택사항, 동의거부가능)</span></h2><table class="nor_table mb-2"><caption class="sr-only">개인정보 수집‧이용 내역 테이블(선택사항, 동의거부가능)</caption><thead><tr><th scope="col">항목</th><th scope="col">수집‧이용 목적</th><th scope="col">보유‧이용기간</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;">개인 예약 시 일반 전화번호(선택)</td><td style="text-align:center;">예약확인</td><td style="text-align:center;" class="font-bold">체험 완료 후 3년</td></tr></tbody></table>',2),O=t("br",null,null,-1),J=t("br",null,null,-1),Q=t("br",null,null,-1),W=t("br",null,null,-1),X={class:"d-flex font-weight-bold"},Y=t("div",{class:"mr-2","aria-hidden":"true"},"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?",-1),Z=f('<h2 class="title-large">민감정보 수집‧이용 내역 <span style="color:blue;font-weight:900;">(선택사항, 동의거부가능)</span></h2><table class="nor_table mb-2"><caption class="sr-only">민감정보 수집‧이용 내역 테이블</caption><thead><tr><th scope="col">항목</th><th scope="col">수집‧이용 목적</th><th scope="col">보유‧이용기간</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;" class="font-bold">장애의 종류(시각장애, 청각장애, 정신적 장애 등), 휠체어 사용 여부</td><td style="text-align:center;">원활한 체험관 이용을 위한 맞춤형 지원</td><td style="text-align:center;" class="font-bold">체험 완료 후 3년</td></tr></tbody></table>',2),$=t("br",null,null,-1),ee=t("br",null,null,-1),te=t("br",null,null,-1),le=t("br",null,null,-1),se={class:"d-flex font-weight-bold"},oe=t("div",{class:"mr-2","aria-hidden":"true"},"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?",-1),ie={class:"d-flex center_all font-weight-bold"},ne=t("div",{class:"ml-3","aria-hidden":"true"},"상기 사항을 모두 숙지하였고, 이에 동의합니다.",-1),ae={class:"mb-8"},re=t("br",null,null,-1),de={class:"d-flex mt-8"},ce=t("label",{for:"fileUpload",class:"custom-file-label",style:{display:"none"}},"파일 첨부",-1),he={key:0,class:"links-small mt-1",style:{color:"#717171","background-color":"#f0f0f0",padding:"2px 8px 2px 10px","border-radius":"5px"}},ue={class:"d-sm-none"},be={class:"d-none d-sm-flex center_all"};function ge(l,e,r,_,n,a){const g=N("AuthPageForKakao");return m(),p("div",R,[t("div",T,[r.b14Age?(m(),p("div",M,[D,s(C,{modelValue:n.b14AgeUp,"onUpdate:modelValue":e[0]||(e[0]=o=>n.b14AgeUp=o),inline:"",onChange:e[1]||(e[1]=o=>a.InitData()),class:"d-flex justify-center"},{default:d(()=>[s(x,{label:"네. 만14세 이상입니다.","aria-label":"네. 만14세 이상입니다.",value:!0}),E,s(x,{label:"아닙니다. 저는 만14세 미만입니다.","aria-label":"아닙니다. 저는 만14세 미만입니다.",value:!1})]),_:1},8,["modelValue"])])):w("",!0),y(t("div",K,[B,i(" ※ 위의 개인정보 수집‧이용에 대한 동의를 거부할 권리가 있습니다."),j,i(" 그러나 동의를 거부할 경우 원활한 체험예약을 진행할 수 없어 체험에 제한을 받을 수 있습니다."),P,z,I,t("div",G,[L,s(u),i(" 동의 "),s(b,{modelValue:n.bAgree1,"onUpdate:modelValue":e[2]||(e[2]=o=>n.bAgree1=o),class:"mt-n4",title:"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?"},null,8,["modelValue"])]),H,i(" ※ 위의 개인정보 수집‧이용에 대한 동의를 거부할 권리가 있습니다."),O,i(" 동의를 거부하더라도 체험예약을 진행하는데 제한을 받지 않지만 서비스 제공에 제한을 받을 수 있습니다."),J,Q,W,t("div",X,[Y,s(u),i(" 동의 "),s(b,{modelValue:n.bAgree2,"onUpdate:modelValue":e[3]||(e[3]=o=>n.bAgree2=o),class:"mt-n4",title:"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?"},null,8,["modelValue"])]),Z,i(" ※ 위의 개인정보 수집‧이용에 대한 동의를 거부할 권리가 있습니다."),$,i(" 동의를 거부하더라도 체험예약을 진행하는데 제한을 받지 않지만 서비스 제공에 제한을 받을 수 있습니다."),ee,te,le,t("div",se,[oe,s(u),i(" 동의 "),s(b,{modelValue:n.bAgree3,"onUpdate:modelValue":e[4]||(e[4]=o=>n.bAgree3=o),class:"mt-n4",title:"위와 같이 개인정보를 수집‧이용하는데 동의하십니까?"},null,8,["modelValue"])]),t("div",ie,[s(b,{modelValue:n.bAgreeAll,"onUpdate:modelValue":e[5]||(e[5]=o=>n.bAgreeAll=o),class:"mt-5",title:"상기 사항을 모두 숙지하였고, 이에 동의합니다."},null,8,["modelValue"]),ne])],512),[[k,n.b14AgeUp]]),y(t("div",ae,[i(" 만 14세 미만 신청자의 개인정보를 수집이용할 경우 법정대리인 동의가 반드시 필요합니다."),re,i(" 아래 양식을 다운로드 받아서 법정대리인의 동의서를 작성하시고 업로드 해주세요. "),t("div",de,[s(h,{onClick:e[6]||(e[6]=o=>a.DownloadAgreeDoc())},{default:d(()=>[i("법정대리인 동의서 다운로드")]),_:1}),s(u),ce,t("input",{id:"fileUpload",label:"파일첨부",type:"file",ref:"fileInput",style:{display:"none"},onChange:e[7]||(e[7]=(...o)=>a.onFileSelected&&a.onFileSelected(...o))},null,544),t("input",{label:"파일첨부",type:"file",ref:"fileInput",style:{display:"none"},onChange:e[8]||(e[8]=(...o)=>a.onFileSelected&&a.onFileSelected(...o))},null,544),t("div",null,[s(h,{onClick:e[9]||(e[9]=o=>a.GetFile()),class:"mr-2 mb-1",style:{"min-width":"100px"}},{default:d(()=>[i("법정대리인 동의서 업로드")]),_:1}),n.NowSelFile?(m(),p("div",he," 업로드됨("+V(n.NowSelFile.name)+") ",1)):w("",!0)])])],512),[[k,!n.b14AgeUp]]),t("div",ue,[s(U,null,{default:d(()=>[s(S,{cols:"12"},{default:d(()=>[s(h,{onClick:e[10]||(e[10]=o=>a.NiceAuthCheck()),width:"100%",size:"x-large",title:"새창열림"},{default:d(()=>[i("휴대전화 인증")]),_:1})]),_:1}),s(S,{cols:"12"},{default:d(()=>[s(h,{onClick:e[11]||(e[11]=o=>a.KakaoAuthCheck()),width:"100%",size:"x-large",title:"새창열림"},{default:d(()=>[i("카카오 인증")]),_:1})]),_:1})]),_:1})]),t("div",be,[s(h,{onClick:e[12]||(e[12]=o=>a.NiceAuthCheck()),size:"x-large",title:"새창열림"},{default:d(()=>[i("휴대전화 인증")]),_:1}),s(h,{onClick:e[13]||(e[13]=o=>a.KakaoAuthCheck()),class:"ml-3",size:"x-large",title:"새창열림"},{default:d(()=>[i("카카오 인증")]),_:1})])]),s(g,{ref:"AuthPageForKakao_ref",onSuccessKakaoAuth:a.SuccessKakaoAuth},null,8,["onSuccessKakaoAuth"])])}const ke=v(q,[["render",ge]]);export{ke as default};
