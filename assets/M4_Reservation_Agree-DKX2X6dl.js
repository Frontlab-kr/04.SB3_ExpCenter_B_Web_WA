import{_ as S,A as _,E as c,f as k,g as m,i as p,k as o,l as s,s as d,t as w,j as v,v as A,x as i,D as h,C,z as g,G as u}from"./index-Cp7OTZSl.js";import{A as N}from"./AuthPageForKakao-CQarS5kY.js";import{V as U,a as x}from"./VRadioGroup-eMDRUPUZ.js";import{V as b}from"./VCheckbox-DMFH2Ol0.js";import"./M4_Input-dbsElGIN.js";import"./VTextField-DyJ9d4V2.js";import"./VRow-BKzJpr8p.js";const R={props:["b14Age"],data(){return{reqNo:"",cRequestName:"홍길동",cRequestMobile:"01000000000",cRequestBirth:"19980101",cToken:"",bAgree1:!1,bAgree2:!1,bAgree3:!1,bAgreeAll:!1,b14AgeUp:!0,NowSelFile:null}},components:{AuthPageForKakao:N},mounted(){window.addEventListener("message",this.callbackResultFromNice)},beforeUnmount(){window.removeEventListener("message",this.callbackResultFromNice)},watch:{bAgreeAll(t){this.bAgree1=t,this.bAgree2=t,this.bAgree3=t}},methods:{InitData(){this.bAgree1=!1,this.bAgree2=!1,this.bAgree3=!1,this.bAgreeAll=!1,this.NowSelFile=null},DownloadAgreeDoc(){_({url:"https://test1-fire.seoul.go.kr/cmsapi/DownloadFile?FileUrl=Files/SystemFile/체험관예약_법정대리인_동의서.docx",method:"GET",responseType:"blob"}).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","체험관예약_법정대리인_동의서.docx"),document.body.appendChild(a),a.click()})},GetFile(){this.$refs.fileInput.click()},onFileSelected(t){this.NowSelFile=t.target.files[0]},NiceAuthCheck(){if(this.b14AgeUp&&!this.bAgree1){c.$emit("onShowMsg",{cSubTitle:"예약신청을 위해 개인정보 처리 방침에 대한 동의가 필요합니다.",cTitle:"동의하기 버튼을 눌러 주세요.",cMsg:""});return}if(!this.b14AgeUp&&!this.NowSelFile){c.$emit("onShowMsg",{cSubTitle:"14세 미만일 경우 법정 대리인 동의서가 필요합니다.",cTitle:"동의서를 첨부하여 주세요.",cMsg:""});return}var t={};_.post("https://test1-fire.seoul.go.kr/cmsapi/NiceAuthCheck",t,{headers:{}}).then(async e=>{this.reqNo=e.data.reqNo;const a=window.open("","popupChk","width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no");if(!a)throw new Error("Popup blocked by the browser");a.document.open(),a.document.write(e.data.formHtml),a.document.close()}).catch(e=>{console.log(`Catch Error : ${e}`)}).finally(()=>{})},callbackResultFromNice(t){if(!(!this.reqNo||!t.data.reqNo)){if(this.reqNo!=t.data.reqNo){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 유효하지 않은 요청아이디"}),this.reqNo="";return}if(t.data.resultCd!="00"){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 인증실패"}),this.reqNo="";return}if(t.data.name==""&&t.data.phone==""&&t.data.birth==""){c.$emit("onShowMsg",{cSubTitle:"인증이 취소되었습니다.",cTitle:`다시 시도해주세요.
 계속 지속될 경우 담당자에게 문의 바랍니다.`,cMsg:"Error : 유효하지 않은 인증결과"}),this.reqNo="";return}this.reqNo="",this.checkAuthResult(t.data.name,t.data.phone,t.data.birth,t.data.jwt)}},KakaoAuthCheck(){if(this.b14AgeUp&&!this.bAgree1){c.$emit("onShowMsg",{cSubTitle:"예약신청을 위해 개인정보 처리 방침에 대한 동의가 필요합니다.",cTitle:"동의하기 버튼을 눌러 주세요.",cMsg:""});return}if(!this.b14AgeUp&&!this.NowSelFile){c.$emit("onShowMsg",{cSubTitle:"14세 미만일 경우 법정 대리인 동의서가 필요합니다.",cTitle:"동의서를 첨부하여 주세요.",cMsg:""});return}this.$refs.AuthPageForKakao_ref.ShowDialog()},SuccessKakaoAuth(t){console.log("<<<<<<<<",t),this.checkAuthResult(t.name,t.phone,t.birth,t.jwt)},checkAuthResult(t,e,a,y){let l=t,r=e,f=a;this.$emit("onSuccessAuth",this.NowSelFile,{cRequestName:l,cRequestMobile:r,cRequestBirth:f,bSelectedAgree1:this.bAgree1,bSelectedAgree2:this.bAgree2,bSelectedAgree3:this.bAgree3,jwt:y})}}},F={style:{display:"flex","justify-content":"center"}},V={style:{"max-width":"1000px",width:"100%"}},q={key:0,class:"font-weight-bold mb-10",align:"center"},I=o("div",{class:"mr-2 title-xlarge"},"Are you 14 years old or older?",-1),P=o("div",{style:{width:"50px"},class:"ml-8 hidden-sm-and-down"},null,-1),T={class:"mb-8"},D=g('<h2 class="title-xlarge">Consent Form for Personal Information Collection and Use for Boramae Safety Experience Center Reservation</h2><div>We collect and use personal information as follows for Boramae Safety Experience Center reservations.</div><div>Please read the details carefully and decide whether to consent.</div><div class="bg-gap"></div><h2 class="title-large">Personal Information Collection and Use <span style="color:blue;font-weight:900;">(Required)</span></h2><table class="nor_table mb-2"><caption class="sr-only">Personal Information Collection and Use Table</caption><thead><tr><th scope="col">Item</th><th scope="col">Purpose of Collection and Use</th><th scope="col">Retention and Use Period</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;">Name (Required), Mobile Phone Number (Required), Address (Required), Group reservation: General phone number (required)</td><td style="text-align:center;">Reservation confirmation</td><td style="text-align:center;" class="font-bold">3 years after experience completion</td></tr><tr><td style="width:50%;text-align:center;">Name (Required), Date of Birth (Required)</td><td style="text-align:center;">Certificate Issuance</td><td style="text-align:center;" class="font-bold">3 years after experience completion</td></tr></tbody></table>',6),M=o("br",null,null,-1),E=o("br",null,null,-1),K=o("br",null,null,-1),B=o("br",null,null,-1),G={class:"d-flex font-weight-bold"},j=o("div",{class:"mr-2","aria-hidden":"true"},"Do you consent to the collection and use of personal information as stated above?",-1),L=g('<h2 class="title-large">Personal Information Collection and Use <span style="color:blue;font-weight:900;">(Optional)</span></h2><table class="nor_table mb-2"><caption class="sr-only">Optional Personal Information Collection and Use Table</caption><thead><tr><th scope="col">Item</th><th scope="col">Purpose of Collection and Use</th><th scope="col">Retention and Use Period</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;">Personal reservation: General phone number (optional)</td><td style="text-align:center;">Reservation confirmation</td><td style="text-align:center;" class="font-bold">3 years after experience completion</td></tr></tbody></table>',2),O=o("br",null,null,-1),Y=o("br",null,null,-1),z=o("br",null,null,-1),H=o("br",null,null,-1),W={class:"d-flex font-weight-bold"},J=o("div",{class:"mr-2","aria-hidden":"true"},"Do you consent to the collection and use of personal information as stated above?",-1),Q=g('<h2 class="title-large">Sensitive Information Collection and Use <span style="color:blue;font-weight:900;">(Optional)</span></h2><table class="nor_table mb-2"><caption class="sr-only">Sensitive Information Collection and Use Table</caption><thead><tr><th scope="col">Item</th><th scope="col">Purpose of Collection and Use</th><th scope="col">Retention and Use Period</th></tr></thead><tbody><tr><td style="width:50%;text-align:center;" class="font-bold">Type of Disability (Visual, Hearing, Mental, etc.), Wheelchair Usage</td><td style="text-align:center;">Customized Support for Experience Center Use</td><td style="text-align:center;" class="font-bold">3 years after experience completion</td></tr></tbody></table>',2),X=o("br",null,null,-1),Z=o("br",null,null,-1),$=o("br",null,null,-1),ee=o("br",null,null,-1),te={class:"d-flex font-weight-bold"},oe=o("div",{class:"mr-2","aria-hidden":"true"},"Do you consent to the collection and use of personal information as stated above?",-1),le={class:"d-flex center_all font-weight-bold"},ne=o("div",{class:"ml-3","aria-hidden":"true"},"I have read and agree to all of the above.",-1),se={class:"mb-8"},ie={class:"d-flex mt-8"},ae={key:0,class:"links-small mt-1",style:{color:"#717171","background-color":"#f0f0f0",padding:"2px 8px 2px 10px","border-radius":"5px"}},re={class:"d-none d-sm-flex center_all"};function ce(t,e,a,y,l,r){const f=k("AuthPageForKakao");return m(),p("div",F,[o("div",V,[a.b14Age?(m(),p("div",q,[I,s(U,{modelValue:l.b14AgeUp,"onUpdate:modelValue":e[0]||(e[0]=n=>l.b14AgeUp=n),inline:"",onChange:e[1]||(e[1]=n=>r.InitData()),class:"d-flex justify-center"},{default:d(()=>[s(x,{label:"Yes, I am 14 years old or older.","aria-label":"Yes, I am 14 years old or older.",value:!0}),P,s(x,{label:"No, I am under 14 years old.","aria-label":"No, I am under 14 years old.",value:!1})]),_:1},8,["modelValue"])])):w("",!0),v(o("div",T,[D,i(" ※ You have the right to refuse consent for the collection and use of the above personal information."),M,i(" However, if you refuse to give consent, you may face restrictions on the experience as the reservation cannot be smoothly processed in accordance with Article 5 of the Fire Institution Safety Experience Education Safety Management Regulations."),E,K,B,o("div",G,[j,s(u),i(" Consent "),s(b,{modelValue:l.bAgree1,"onUpdate:modelValue":e[2]||(e[2]=n=>l.bAgree1=n),class:"mt-n4",title:"Do you consent to the collection and use of personal information as stated above?"},null,8,["modelValue"])]),L,i(" ※ You have the right to refuse consent for the collection and use of the above personal information."),O,i(" Even if you refuse to give consent, you can proceed with the experience reservation without restrictions, but there may be limitations in service provision."),Y,z,H,o("div",W,[J,s(u),i(" Consent "),s(b,{modelValue:l.bAgree3,"onUpdate:modelValue":e[3]||(e[3]=n=>l.bAgree3=n),class:"mt-n4",title:"Do you consent to the collection and use of personal information as stated above?"},null,8,["modelValue"])]),Q,i(" ※ You have the right to refuse consent for the collection and use of the above personal information."),X,i(" Even if you refuse to give consent, you can proceed with the experience reservation without restrictions, but there may be limitations in service provision."),Z,$,ee,o("div",te,[oe,s(u),i(" Consent "),s(b,{modelValue:l.bAgree2,"onUpdate:modelValue":e[4]||(e[4]=n=>l.bAgree2=n),class:"mt-n4",title:"Do you consent to the collection and use of personal information as stated above?"},null,8,["modelValue"])]),o("div",le,[s(b,{modelValue:l.bAgreeAll,"onUpdate:modelValue":e[5]||(e[5]=n=>l.bAgreeAll=n),class:"mt-5",title:"I have read and agree to all of the above."},null,8,["modelValue"]),ne])],512),[[A,l.b14AgeUp]]),v(o("div",se,[i(" If personal information is collected and used for applicants under the age of 14, the consent of a legal guardian is required. Please download the form below, have your legal guardian sign it, and upload it. "),o("div",ie,[s(h,{onClick:e[6]||(e[6]=n=>r.DownloadAgreeDoc())},{default:d(()=>[i("Download Legal Guardian Consent Form")]),_:1}),s(u),o("input",{id:"fileUpload",type:"file",ref:"fileInput",style:{display:"none"},onChange:e[7]||(e[7]=(...n)=>r.onFileSelected&&r.onFileSelected(...n))},null,544),o("div",null,[s(h,{onClick:e[8]||(e[8]=n=>r.GetFile()),class:"mr-2 mb-1",style:{"min-width":"100px"}},{default:d(()=>[i("Upload Legal Guardian Consent Form")]),_:1}),l.NowSelFile?(m(),p("div",ae," Uploaded("+C(l.NowSelFile.name)+") ",1)):w("",!0)])])],512),[[A,!l.b14AgeUp]]),o("div",re,[s(h,{onClick:e[9]||(e[9]=n=>r.NiceAuthCheck()),size:"x-large",title:"Opens in a new window"},{default:d(()=>[i("Mobile Phone Verification")]),_:1}),s(h,{onClick:e[10]||(e[10]=n=>r.KakaoAuthCheck()),class:"ml-3",size:"x-large",title:"Opens in a new window"},{default:d(()=>[i("Kakao Verification")]),_:1})])]),s(f,{ref:"AuthPageForKakao_ref",onSuccessKakaoAuth:r.SuccessKakaoAuth},null,8,["onSuccessKakaoAuth"])])}const ge=S(R,[["render",ce]]);export{ge as default};
